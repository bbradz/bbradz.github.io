{"ast":null,"code":"// functionality.js\n// ============================== REGULAR OPS ============================== //\n//                                    xx                                     //\n// ============================== REGULAR OPS ============================== //\n// Update the toggleCollapse function\nexport function toggleCollapse(button){// Keep export if you want to use this elsewhere, otherwise remove export\nconst container=button.closest(\".collapsible-code-container\");if(!container)return;const codeContainer=container.querySelector(\".code-container\");if(!codeContainer)return;// Toggle the visibility of the code container\ncodeContainer.classList.toggle(\"visible\");// Toggle the expanded state of the button\nbutton.classList.toggle(\"expanded\");// Update the button text based on the state\nconst buttonText=button.querySelector(\"span\");if(codeContainer.classList.contains(\"visible\")){buttonText.textContent=\"hide code\";}else{buttonText.textContent=\"show code\";}}document.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\nconst buttonContainers=document.querySelectorAll(\".button-container\");buttonContainers.forEach(container=>{container.addEventListener(\"mouseenter\",()=>{const copyButton=container.querySelector(\".copy-button\");if(copyButton){copyButton.classList.add(\"visible\");}});container.addEventListener(\"mouseleave\",()=>{const copyButton=container.querySelector(\".copy-button\");if(copyButton){copyButton.classList.remove(\"visible\");}});});});// // ======================\n// // Theme toggle\n// // ======================\n// export function toggleTheme() {\n//   const html = document.documentElement;\n//   const currentTheme = html.getAttribute(\"data-theme\");\n//   const newTheme = currentTheme === \"light\" ? \"dark\" : \"light\";\n//   html.setAttribute(\"data-theme\", newTheme);\n//   localStorage.setItem(\"theme\", newTheme);\n// }\n// document.addEventListener(\"DOMContentLoaded\", () => {\n//   // Keep this if used outside React, otherwise remove\n//   const savedTheme = localStorage.getItem(\"theme\") || \"dark\"; // Default to dark\n//   document.documentElement.setAttribute(\"data-theme\", savedTheme);\n// });\n// ======================\n// Table of Contents toggle\n// ======================\nexport function toggleTOC(){// Keep export if you want to use this elsewhere, otherwise remove export\nconst toc=document.getElementById(\"toc\");if(!toc)return;toc.classList.toggle(\"expanded\");const arrow=document.querySelector(\".toc-header span:first-child\");if(arrow){arrow.textContent=toc.classList.contains(\"expanded\")?\"▼\":\"▶\";}}// ======================\n// Copy code functionality\n// ======================\nlet timeoutId;const PROXIMITY_THRESHOLD=150;// pixels\nexport function handleMouseMove(event){let buttonId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;// Keep export if you want to use this elsewhere, otherwise remove export\nconst targetButton=buttonId?document.getElementById(buttonId):document.querySelector(\".copy-button\");if(!targetButton)return;const rect=targetButton.getBoundingClientRect();const buttonCenterX=rect.left+rect.width/2;const buttonCenterY=rect.top+rect.height/2;const distance=Math.sqrt(Math.pow(event.clientX-buttonCenterX,2)+Math.pow(event.clientY-buttonCenterY,2));clearTimeout(timeoutId);if(distance<=PROXIMITY_THRESHOLD){targetButton.classList.add(\"visible\");timeoutId=setTimeout(()=>{if(!targetButton.matches(\":hover\")){targetButton.classList.remove(\"visible\");}},1000);}else{targetButton.classList.remove(\"visible\");}}/*\n  Purpose: Copies the content of a code block to the clipboard.\n  Behavior: Finds the closest code block to the clicked button, copies its text,\n  and temporarily adds a copied class to the button for visual feedback.\n*/export function copyCode(event){// Keep export if you want to use this elsewhere, otherwise remove export\nevent.preventDefault();const button=event.currentTarget;const codeContainer=button.closest(\".collapsible-code-container\");const codeEl=codeContainer?codeContainer.querySelector(\"code\"):null;if(!codeEl)return;navigator.clipboard.writeText(codeEl.innerText||\"\").then(()=>{button.classList.add(\"copied\");setTimeout(()=>{button.classList.remove(\"copied\");},500);}).catch(err=>{console.error(\"Failed to copy code:\",err);});}document.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\nconst copyButtons=document.querySelectorAll(\".copy-button\");copyButtons.forEach(button=>{button.addEventListener(\"click\",copyCode);});});// ======================\n// Scroll to top\n// ======================\nwindow.onscroll=function(){// Keep this if used outside React, otherwise remove\nconst scrollButton=document.getElementById(\"scrollToTop\");if(!scrollButton)return;if(document.body.scrollTop>window.innerHeight||document.documentElement.scrollTop>window.innerHeight){scrollButton.style.opacity=\"1\";}else{scrollButton.style.opacity=\"0\";}};export function scrollToTop(){// Keep export if you want to use this elsewhere, otherwise remove export\nwindow.scrollTo({top:0,behavior:\"smooth\"});}// ======================\n// Copy citation\n// ======================\nexport function copyCitation(event){// Keep export if you want to use this elsewhere, otherwise remove export\nevent.preventDefault();const button=event.currentTarget;const citationContainer=button.closest(\".citation-container\");const citationEl=citationContainer?citationContainer.querySelector(\"code\"):null;if(!citationEl)return;navigator.clipboard.writeText(citationEl.innerText||\"\").then(()=>{button.classList.add(\"copied\");setTimeout(()=>{button.classList.remove(\"copied\");},500);}).catch(err=>{console.error(\"Failed to copy citation:\",err);});}document.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\nconst copyButtons=document.querySelectorAll(\".copy-button\");copyButtons.forEach(button=>{button.addEventListener(\"click\",copyCode);});const citationCopyButtons=document.querySelectorAll(\"#citation-copy-button\");citationCopyButtons.forEach(button=>{button.addEventListener(\"click\",copyCitation);});});// ======================\n// DOMContentLoaded\n// ======================\ndocument.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\n// ----- Safely bind events on .code-container and .copy-button -----\nconst codeContainer=document.querySelector(\".code-container\");const copyButton=document.querySelector(\".copy-button\");if(codeContainer){codeContainer.addEventListener(\"mouseleave\",()=>{clearTimeout(timeoutId);if(copyButton){copyButton.classList.remove(\"visible\");}});}if(copyButton){copyButton.addEventListener(\"mouseenter\",()=>{clearTimeout(timeoutId);copyButton.classList.add(\"visible\");});copyButton.addEventListener(\"mouseleave\",()=>{if(!timeoutId){timeoutId=setTimeout(()=>{copyButton.classList.remove(\"visible\");},1000);}});}// ----- Sidebar TOC + on-scroll logic -----\nconst sidebarToc=document.getElementById(\"sidebar-toc\");const sidebarLinks=document.querySelector(\".sidebar-toc-links\");const mainToc=document.querySelector(\".toc-container\");let ticking=false;if(sidebarLinks){sidebarLinks.style.scrollBehavior=\"smooth\";}// FUNCTIONALITY.JS (modified handleScroll function)\nconst handleScroll=()=>{if(!mainToc||!sidebarToc){return;}const mainTocRect=mainToc.getBoundingClientRect();const viewportHeight=window.innerHeight;const headerHeight=document.querySelector(\".header\").offsetHeight;// Dynamically get header height\nconst headerOffset=headerHeight+20;// Add a little extra offset if needed\nconst mainTocVisible=mainTocRect.bottom>headerOffset;// Simplified condition - sidebar shows when main TOC bottom is above the offset\nif(mainTocVisible){sidebarToc.classList.remove(\"visible\");}else{sidebarToc.classList.add(\"visible\");updateActiveTocLink();}};const updateActiveTocLink=()=>{if(!sidebarLinks)return;// Look for headings with IDs\nconst headings=Array.from(document.querySelectorAll(\"h1[id], h2[id], h3[id], h4[id]\")).filter(heading=>heading.id);const scrollPosition=window.scrollY;const headerOffset=100;let currentActive=null;for(const heading of headings){if(scrollPosition>=heading.offsetTop-headerOffset){currentActive=heading;}else{break;}}const allLinks=sidebarLinks.querySelectorAll(\"a\");allLinks.forEach(link=>{link.classList.remove(\"active\",\"active-parent\");});if(currentActive){const activeLink=sidebarLinks.querySelector(`a[href=\"#${currentActive.id}\"]`);if(activeLink){activeLink.classList.add(\"active\");// Highlight parents\nlet parent=activeLink.parentElement;while(parent&&parent!==sidebarLinks){if(parent.tagName===\"LI\"){const parentLink=parent.querySelector(\":scope > a\");if(parentLink){parentLink.classList.add(\"active-parent\");}}parent=parent.parentElement;}// Auto-scroll in TOC if out of view\nconst linkRect=activeLink.getBoundingClientRect();const tocRect=sidebarLinks.getBoundingClientRect();if(linkRect.top<tocRect.top||linkRect.bottom>tocRect.bottom){activeLink.scrollIntoView({behavior:\"smooth\",block:\"center\"});}}}};window.addEventListener(\"scroll\",()=>{// Keep this if used outside React, otherwise remove\nconsole.log(\"Scroll event listener is firing!\");// <---- ADD THIS LINE\nif(!ticking){window.requestAnimationFrame(()=>{handleScroll();ticking=false;});ticking=true;}});// Handle smooth scrolling for sidebar links\nif(sidebarLinks){sidebarLinks.querySelectorAll(\"a\").forEach(link=>{link.addEventListener(\"click\",e=>{e.preventDefault();const targetId=link.getAttribute(\"href\").slice(1);const targetElement=document.getElementById(targetId);if(targetElement){const headerOffset=80;const elementPosition=targetElement.offsetTop;const offsetPosition=elementPosition-headerOffset;window.scrollTo({top:offsetPosition,behavior:\"smooth\"});}});});}// Run initial scroll logic\nhandleScroll();});// Keep this if used outside React, otherwise remove\n// ----- Game of Life logic -----\n// 1. Random Number Generator\nexport class SeededRandom{// Exported\nconstructor(){let seed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();this.seed=seed;}next(){this.seed^=this.seed<<13;this.seed^=this.seed>>17;this.seed^=this.seed<<5;return(this.seed>>>0)/0x100000000;}}// 3. Initialize local storage logic (Exported - if needed for external initialization)\nexport function initializeGame(){let useSeed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let providedSeed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const seed=providedSeed||Date.now();console.log(seed);localStorage.setItem(\"gameOfLifeUseSeed\",useSeed);if(useSeed){localStorage.setItem(\"gameOfLifeSeed\",seed.toString());}localStorage.removeItem(\"gameOfLifeGrid\");localStorage.removeItem(\"gameOfLifeInitialTimestamp\");}// 4. Get initial timestamp from local storage (Exported - if needed externally)\nexport function getInitialTimestamp(){const stored=localStorage.getItem(\"gameOfLifeInitialTimestamp\");if(!stored){const timestamp=Date.now();localStorage.setItem(\"gameOfLifeInitialTimestamp\",timestamp.toString());return timestamp;}return parseInt(stored);}// 5. Calculate current generation (Exported - if needed externally)\nexport function calculateCurrentGeneration(initialTimestamp){const timeElapsed=Date.now()-initialTimestamp;// ~60 generations per second\nreturn Math.floor(timeElapsed/(1000/60));}// 6. Building the grid (Exported)\nexport function buildGrid(cols,rows,useSeed,seed,SeededRandomClass){const storedGrid=localStorage.getItem(\"gameOfLifeGrid\");const initialTimestamp=getInitialTimestamp();if(!storedGrid){let rng;if(useSeed){rng=new SeededRandomClass(seed);// Use passed SeededRandomClass\n}else{rng=Math;// Use Math.random if not seeded.\n}// create new grid\nconst newGrid=new Array(cols).fill(null).map(()=>new Array(rows).fill(null).map(()=>useSeed?Math.floor(rng.next()*2):Math.floor(rng.random()*2)// Use rng.random() when Math is used.\n));// Add gliders - keep as is or parameterize glider pattern if needed\naddGlider(newGrid,1,1,cols,rows);addGlider(newGrid,1,10,cols,rows);addGlider(newGrid,1,20,cols,rows);addGlider(newGrid,1,30,cols,rows);localStorage.setItem(\"gameOfLifeGrid\",JSON.stringify(newGrid));return newGrid;}// If stored grid exists, forward-simulate\nlet grid=JSON.parse(storedGrid);const targetGeneration=calculateCurrentGeneration(initialTimestamp);for(let i=0;i<targetGeneration;i++){grid=nextGen(grid,cols,rows);// Pass cols and rows\n}return grid;}// 7. Drawing the grid (Exported)\nexport function drawGrid(ctx,grid,resolution,canvasWidth,canvasHeight){ctx.clearRect(0,0,canvasWidth,canvasHeight);// Use parameters for width/height\nfor(let col=0;col<grid.length;col++){for(let row=0;row<grid[col].length;row++){const cell=grid[col][row];ctx.beginPath();ctx.rect(col*resolution,row*resolution,resolution-1,resolution-1);ctx.fillStyle=cell?\"#4a9eff\":\"transparent\";ctx.fill();}}}// 8. Counting Neighbors (Exported)\nexport function countNeighbors(grid,x,y,cols,rows){let sum=0;for(let i=-1;i<2;i++){for(let j=-1;j<2;j++){let col=x+i;let row=y+j;// wrap edges\nif(col<0)col=cols-1;if(row<0)row=rows-1;if(col<cols&&row<rows){sum+=grid[col][row];}}}sum-=grid[x][y];return sum;}// 9. Next Generation Calculation (Exported)\nexport function nextGen(grid,cols,rows){const nextGrid=grid.map(arr=>[...arr]);for(let col=0;col<grid.length;col++){for(let row=0;row<grid[col].length;row++){const cell=grid[col][row];const neighbors=countNeighbors(grid,col,row,cols,rows);// Pass cols and rows\nif(cell===1&&(neighbors<2||neighbors>3)){nextGrid[col][row]=0;}else if(cell===0&&neighbors===3){nextGrid[col][row]=1;}}}return nextGrid;}// 10. Add Glider Pattern (Exported - if you want to control glider addition from React)\nexport function addGlider(grid,x,y,cols,rows){const glider=[[0,1,0],[0,0,1],[1,1,1]];for(let i=0;i<3;i++){for(let j=0;j<3;j++){let placeX=x+i;let placeY=y+j;if(placeX<0)placeX=cols-1;if(placeY<0)placeY=rows-1;if(placeX<cols&&placeY<rows){grid[placeX][placeY]=glider[i][j];}}}return grid;}// ======================\n// Run Game of Life (encapsulated function)\n// ======================\nexport function runGameOfLife(canvasId){const canvas=document.getElementById(canvasId);if(!canvas){console.error(`Canvas element with id \"${canvasId}\" not found.`);return;// Exit if canvas is not found\n}const ctx=canvas.getContext(\"2d\");if(ctx){const resolution=10;// You can make resolution an argument if you want to configure it from React\nconst cols=canvas.width/resolution;const rows=canvas.height/resolution;// Initialize Game of Life grid using imported functions from functionality.js\nlet grid=buildGrid(cols,rows,false,null,SeededRandom);// Random initialization\ninitializeGame(false);// Initialize local storage\nfunction update(){grid=nextGen(grid,cols,rows);// Calculate next generation using imported function\ndrawGrid(ctx,grid,resolution,canvas.width,canvas.height);// Draw grid using imported function\nrequestAnimationFrame(update);// Animation loop\n}update();// Start the animation loop\n}else{console.error(\"Canvas context not supported!\");}}// ============================== LIBRARY OPS ============================== //\n//                                    xx                                     //\n// ============================== LIBRARY OPS ============================== //\nwindow.hashString=str=>{// Keep hashString\nlet hash=0;for(let i=0;i<str.length;i++){const char=str.charCodeAt(i);hash=(hash<<5)-hash+char;hash=hash&hash;}return Math.abs(hash);};/*\n  Purpose: Returns a color for a given tag based on its type or a hash of the\n  tag name.\n  Behavior: Assigns specific colors for predefined tags (e.g., \"YT\", \"Arxiv\")\n  and generates a unique color for other tags using HSL values derived from the\n  tag's hash.\n*/export const getTagColor=function(tag){// Changed to export const\nswitch(tag){case\"YT\":return\"#FF0000\";case\"Arxiv\":return\"#A51C30\";case\"Site\":return\"#F5F5DC\";default:const hash=hashString(tag);const hue=hash%360;const saturation=40+hash%15;const lightness=30+hash%10;return`hsl(${hue}, ${saturation}%, ${lightness}%)`;}};export const getTextColor=function(tag){// Changed to export const\nif(tag===\"Site\"){return\"#000000\";}return\"#FFFFFF\";};/*\n  Purpose: Limits how often a function is called during rapid events\n  (e.g., typing in a search box).\n  Behavior: Delays the execution of the provided function until a specified time\n  (wait) has passed since the last call.\n*/export const debounce=function(func,wait){// Changed to export const\nlet timeout;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}clearTimeout(timeout);timeout=setTimeout(()=>func.apply(this,args),wait);};};export const formatDate=function(dateString){// Changed to export const\nif(dateString===\"Not specified\")return dateString;const parsed=new Date(dateString);if(isNaN(parsed))return dateString;return parsed.toLocaleString(\"en-US\",{month:\"short\",year:\"numeric\"});};","map":{"version":3,"names":["toggleCollapse","button","container","closest","codeContainer","querySelector","classList","toggle","buttonText","contains","textContent","document","addEventListener","buttonContainers","querySelectorAll","forEach","copyButton","add","remove","toggleTOC","toc","getElementById","arrow","timeoutId","PROXIMITY_THRESHOLD","handleMouseMove","event","buttonId","arguments","length","undefined","targetButton","rect","getBoundingClientRect","buttonCenterX","left","width","buttonCenterY","top","height","distance","Math","sqrt","pow","clientX","clientY","clearTimeout","setTimeout","matches","copyCode","preventDefault","currentTarget","codeEl","navigator","clipboard","writeText","innerText","then","catch","err","console","error","copyButtons","window","onscroll","scrollButton","body","scrollTop","innerHeight","documentElement","style","opacity","scrollToTop","scrollTo","behavior","copyCitation","citationContainer","citationEl","citationCopyButtons","sidebarToc","sidebarLinks","mainToc","ticking","scrollBehavior","handleScroll","mainTocRect","viewportHeight","headerHeight","offsetHeight","headerOffset","mainTocVisible","bottom","updateActiveTocLink","headings","Array","from","filter","heading","id","scrollPosition","scrollY","currentActive","offsetTop","allLinks","link","activeLink","parent","parentElement","tagName","parentLink","linkRect","tocRect","scrollIntoView","block","log","requestAnimationFrame","e","targetId","getAttribute","slice","targetElement","elementPosition","offsetPosition","SeededRandom","constructor","seed","Date","now","next","initializeGame","useSeed","providedSeed","localStorage","setItem","toString","removeItem","getInitialTimestamp","stored","getItem","timestamp","parseInt","calculateCurrentGeneration","initialTimestamp","timeElapsed","floor","buildGrid","cols","rows","SeededRandomClass","storedGrid","rng","newGrid","fill","map","random","addGlider","JSON","stringify","grid","parse","targetGeneration","i","nextGen","drawGrid","ctx","resolution","canvasWidth","canvasHeight","clearRect","col","row","cell","beginPath","fillStyle","countNeighbors","x","y","sum","j","nextGrid","arr","neighbors","glider","placeX","placeY","runGameOfLife","canvasId","canvas","getContext","update","hashString","str","hash","char","charCodeAt","abs","getTagColor","tag","hue","saturation","lightness","getTextColor","debounce","func","wait","timeout","_len","args","_key","apply","formatDate","dateString","parsed","isNaN","toLocaleString","month","year"],"sources":["/Users/benbradley/Desktop/CS_Classwork/bbradz.github.io/src/functionality.js"],"sourcesContent":["// functionality.js\n// ============================== REGULAR OPS ============================== //\n//                                    xx                                     //\n// ============================== REGULAR OPS ============================== //\n\n// Update the toggleCollapse function\nexport function toggleCollapse(button) {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  const container = button.closest(\".collapsible-code-container\");\n  if (!container) return;\n\n  const codeContainer = container.querySelector(\".code-container\");\n  if (!codeContainer) return;\n\n  // Toggle the visibility of the code container\n  codeContainer.classList.toggle(\"visible\");\n\n  // Toggle the expanded state of the button\n  button.classList.toggle(\"expanded\");\n\n  // Update the button text based on the state\n  const buttonText = button.querySelector(\"span\");\n  if (codeContainer.classList.contains(\"visible\")) {\n    buttonText.textContent = \"hide code\";\n  } else {\n    buttonText.textContent = \"show code\";\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  const buttonContainers = document.querySelectorAll(\".button-container\");\n  buttonContainers.forEach((container) => {\n    container.addEventListener(\"mouseenter\", () => {\n      const copyButton = container.querySelector(\".copy-button\");\n      if (copyButton) {\n        copyButton.classList.add(\"visible\");\n      }\n    });\n\n    container.addEventListener(\"mouseleave\", () => {\n      const copyButton = container.querySelector(\".copy-button\");\n      if (copyButton) {\n        copyButton.classList.remove(\"visible\");\n      }\n    });\n  });\n});\n\n// // ======================\n// // Theme toggle\n// // ======================\n// export function toggleTheme() {\n//   const html = document.documentElement;\n//   const currentTheme = html.getAttribute(\"data-theme\");\n//   const newTheme = currentTheme === \"light\" ? \"dark\" : \"light\";\n//   html.setAttribute(\"data-theme\", newTheme);\n//   localStorage.setItem(\"theme\", newTheme);\n// }\n\n// document.addEventListener(\"DOMContentLoaded\", () => {\n//   // Keep this if used outside React, otherwise remove\n//   const savedTheme = localStorage.getItem(\"theme\") || \"dark\"; // Default to dark\n//   document.documentElement.setAttribute(\"data-theme\", savedTheme);\n// });\n\n// ======================\n// Table of Contents toggle\n// ======================\nexport function toggleTOC() {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  const toc = document.getElementById(\"toc\");\n  if (!toc) return;\n  toc.classList.toggle(\"expanded\");\n\n  const arrow = document.querySelector(\".toc-header span:first-child\");\n  if (arrow) {\n    arrow.textContent = toc.classList.contains(\"expanded\") ? \"▼\" : \"▶\";\n  }\n}\n\n// ======================\n// Copy code functionality\n// ======================\nlet timeoutId;\nconst PROXIMITY_THRESHOLD = 150; // pixels\n\nexport function handleMouseMove(event, buttonId = null) {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  const targetButton = buttonId\n    ? document.getElementById(buttonId)\n    : document.querySelector(\".copy-button\");\n  if (!targetButton) return;\n\n  const rect = targetButton.getBoundingClientRect();\n  const buttonCenterX = rect.left + rect.width / 2;\n  const buttonCenterY = rect.top + rect.height / 2;\n\n  const distance = Math.sqrt(\n    Math.pow(event.clientX - buttonCenterX, 2) +\n      Math.pow(event.clientY - buttonCenterY, 2)\n  );\n\n  clearTimeout(timeoutId);\n\n  if (distance <= PROXIMITY_THRESHOLD) {\n    targetButton.classList.add(\"visible\");\n    timeoutId = setTimeout(() => {\n      if (!targetButton.matches(\":hover\")) {\n        targetButton.classList.remove(\"visible\");\n      }\n    }, 1000);\n  } else {\n    targetButton.classList.remove(\"visible\");\n  }\n}\n\n/*\n  Purpose: Copies the content of a code block to the clipboard.\n  Behavior: Finds the closest code block to the clicked button, copies its text,\n  and temporarily adds a copied class to the button for visual feedback.\n*/\nexport function copyCode(event) {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  event.preventDefault();\n  const button = event.currentTarget;\n  const codeContainer = button.closest(\".collapsible-code-container\");\n  const codeEl = codeContainer ? codeContainer.querySelector(\"code\") : null;\n\n  if (!codeEl) return;\n\n  navigator.clipboard\n    .writeText(codeEl.innerText || \"\")\n    .then(() => {\n      button.classList.add(\"copied\");\n      setTimeout(() => {\n        button.classList.remove(\"copied\");\n      }, 500);\n    })\n    .catch((err) => {\n      console.error(\"Failed to copy code:\", err);\n    });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  const copyButtons = document.querySelectorAll(\".copy-button\");\n  copyButtons.forEach((button) => {\n    button.addEventListener(\"click\", copyCode);\n  });\n});\n\n// ======================\n// Scroll to top\n// ======================\nwindow.onscroll = function () {\n  // Keep this if used outside React, otherwise remove\n  const scrollButton = document.getElementById(\"scrollToTop\");\n  if (!scrollButton) return;\n\n  if (\n    document.body.scrollTop > window.innerHeight ||\n    document.documentElement.scrollTop > window.innerHeight\n  ) {\n    scrollButton.style.opacity = \"1\";\n  } else {\n    scrollButton.style.opacity = \"0\";\n  }\n};\n\nexport function scrollToTop() {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  window.scrollTo({\n    top: 0,\n    behavior: \"smooth\",\n  });\n}\n\n// ======================\n// Copy citation\n// ======================\nexport function copyCitation(event) {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  event.preventDefault();\n  const button = event.currentTarget;\n  const citationContainer = button.closest(\".citation-container\");\n  const citationEl = citationContainer\n    ? citationContainer.querySelector(\"code\")\n    : null;\n\n  if (!citationEl) return;\n\n  navigator.clipboard\n    .writeText(citationEl.innerText || \"\")\n    .then(() => {\n      button.classList.add(\"copied\");\n      setTimeout(() => {\n        button.classList.remove(\"copied\");\n      }, 500);\n    })\n    .catch((err) => {\n      console.error(\"Failed to copy citation:\", err);\n    });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  const copyButtons = document.querySelectorAll(\".copy-button\");\n  copyButtons.forEach((button) => {\n    button.addEventListener(\"click\", copyCode);\n  });\n\n  const citationCopyButtons = document.querySelectorAll(\n    \"#citation-copy-button\"\n  );\n  citationCopyButtons.forEach((button) => {\n    button.addEventListener(\"click\", copyCitation);\n  });\n});\n\n// ======================\n// DOMContentLoaded\n// ======================\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  // ----- Safely bind events on .code-container and .copy-button -----\n  const codeContainer = document.querySelector(\".code-container\");\n  const copyButton = document.querySelector(\".copy-button\");\n\n  if (codeContainer) {\n    codeContainer.addEventListener(\"mouseleave\", () => {\n      clearTimeout(timeoutId);\n      if (copyButton) {\n        copyButton.classList.remove(\"visible\");\n      }\n    });\n  }\n\n  if (copyButton) {\n    copyButton.addEventListener(\"mouseenter\", () => {\n      clearTimeout(timeoutId);\n      copyButton.classList.add(\"visible\");\n    });\n\n    copyButton.addEventListener(\"mouseleave\", () => {\n      if (!timeoutId) {\n        timeoutId = setTimeout(() => {\n          copyButton.classList.remove(\"visible\");\n        }, 1000);\n      }\n    });\n  }\n\n  // ----- Sidebar TOC + on-scroll logic -----\n  const sidebarToc = document.getElementById(\"sidebar-toc\");\n  const sidebarLinks = document.querySelector(\".sidebar-toc-links\");\n  const mainToc = document.querySelector(\".toc-container\");\n  let ticking = false;\n\n  if (sidebarLinks) {\n    sidebarLinks.style.scrollBehavior = \"smooth\";\n  }\n\n  // FUNCTIONALITY.JS (modified handleScroll function)\n  const handleScroll = () => {\n    if (!mainToc || !sidebarToc) {\n      return;\n    }\n\n    const mainTocRect = mainToc.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n    const headerHeight = document.querySelector(\".header\").offsetHeight; // Dynamically get header height\n    const headerOffset = headerHeight + 20; // Add a little extra offset if needed\n    const mainTocVisible = mainTocRect.bottom > headerOffset; // Simplified condition - sidebar shows when main TOC bottom is above the offset\n\n    if (mainTocVisible) {\n      sidebarToc.classList.remove(\"visible\");\n    } else {\n      sidebarToc.classList.add(\"visible\");\n      updateActiveTocLink();\n    }\n  };\n\n  const updateActiveTocLink = () => {\n    if (!sidebarLinks) return;\n\n    // Look for headings with IDs\n    const headings = Array.from(\n      document.querySelectorAll(\"h1[id], h2[id], h3[id], h4[id]\")\n    ).filter((heading) => heading.id);\n\n    const scrollPosition = window.scrollY;\n    const headerOffset = 100;\n\n    let currentActive = null;\n    for (const heading of headings) {\n      if (scrollPosition >= heading.offsetTop - headerOffset) {\n        currentActive = heading;\n      } else {\n        break;\n      }\n    }\n\n    const allLinks = sidebarLinks.querySelectorAll(\"a\");\n    allLinks.forEach((link) => {\n      link.classList.remove(\"active\", \"active-parent\");\n    });\n\n    if (currentActive) {\n      const activeLink = sidebarLinks.querySelector(\n        `a[href=\"#${currentActive.id}\"]`\n      );\n\n      if (activeLink) {\n        activeLink.classList.add(\"active\");\n\n        // Highlight parents\n        let parent = activeLink.parentElement;\n        while (parent && parent !== sidebarLinks) {\n          if (parent.tagName === \"LI\") {\n            const parentLink = parent.querySelector(\":scope > a\");\n            if (parentLink) {\n              parentLink.classList.add(\"active-parent\");\n            }\n          }\n          parent = parent.parentElement;\n        }\n\n        // Auto-scroll in TOC if out of view\n        const linkRect = activeLink.getBoundingClientRect();\n        const tocRect = sidebarLinks.getBoundingClientRect();\n        if (linkRect.top < tocRect.top || linkRect.bottom > tocRect.bottom) {\n          activeLink.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"center\",\n          });\n        }\n      }\n    }\n  };\n\n  window.addEventListener(\"scroll\", () => {\n    // Keep this if used outside React, otherwise remove\n    console.log(\"Scroll event listener is firing!\"); // <---- ADD THIS LINE\n    if (!ticking) {\n      window.requestAnimationFrame(() => {\n        handleScroll();\n        ticking = false;\n      });\n      ticking = true;\n    }\n  });\n\n  // Handle smooth scrolling for sidebar links\n  if (sidebarLinks) {\n    sidebarLinks.querySelectorAll(\"a\").forEach((link) => {\n      link.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        const targetId = link.getAttribute(\"href\").slice(1);\n        const targetElement = document.getElementById(targetId);\n        if (targetElement) {\n          const headerOffset = 80;\n          const elementPosition = targetElement.offsetTop;\n          const offsetPosition = elementPosition - headerOffset;\n\n          window.scrollTo({\n            top: offsetPosition,\n            behavior: \"smooth\",\n          });\n        }\n      });\n    });\n  }\n\n  // Run initial scroll logic\n  handleScroll();\n}); // Keep this if used outside React, otherwise remove\n\n// ----- Game of Life logic -----\n\n// 1. Random Number Generator\nexport class SeededRandom {\n  // Exported\n  constructor(seed = Date.now()) {\n    this.seed = seed;\n  }\n  next() {\n    this.seed ^= this.seed << 13;\n    this.seed ^= this.seed >> 17;\n    this.seed ^= this.seed << 5;\n    return (this.seed >>> 0) / 0x100000000;\n  }\n}\n\n// 3. Initialize local storage logic (Exported - if needed for external initialization)\nexport function initializeGame(useSeed = false, providedSeed = null) {\n  const seed = providedSeed || Date.now();\n  console.log(seed);\n  localStorage.setItem(\"gameOfLifeUseSeed\", useSeed);\n  if (useSeed) {\n    localStorage.setItem(\"gameOfLifeSeed\", seed.toString());\n  }\n  localStorage.removeItem(\"gameOfLifeGrid\");\n  localStorage.removeItem(\"gameOfLifeInitialTimestamp\");\n}\n\n// 4. Get initial timestamp from local storage (Exported - if needed externally)\nexport function getInitialTimestamp() {\n  const stored = localStorage.getItem(\"gameOfLifeInitialTimestamp\");\n  if (!stored) {\n    const timestamp = Date.now();\n    localStorage.setItem(\"gameOfLifeInitialTimestamp\", timestamp.toString());\n    return timestamp;\n  }\n  return parseInt(stored);\n}\n\n// 5. Calculate current generation (Exported - if needed externally)\nexport function calculateCurrentGeneration(initialTimestamp) {\n  const timeElapsed = Date.now() - initialTimestamp;\n  // ~60 generations per second\n  return Math.floor(timeElapsed / (1000 / 60));\n}\n\n// 6. Building the grid (Exported)\nexport function buildGrid(cols, rows, useSeed, seed, SeededRandomClass) {\n  const storedGrid = localStorage.getItem(\"gameOfLifeGrid\");\n  const initialTimestamp = getInitialTimestamp();\n\n  if (!storedGrid) {\n    let rng;\n\n    if (useSeed) {\n      rng = new SeededRandomClass(seed); // Use passed SeededRandomClass\n    } else {\n      rng = Math; // Use Math.random if not seeded.\n    }\n\n    // create new grid\n    const newGrid = new Array(cols).fill(null).map(() =>\n      new Array(rows).fill(null).map(\n        () =>\n          useSeed ? Math.floor(rng.next() * 2) : Math.floor(rng.random() * 2) // Use rng.random() when Math is used.\n      )\n    );\n\n    // Add gliders - keep as is or parameterize glider pattern if needed\n    addGlider(newGrid, 1, 1, cols, rows);\n    addGlider(newGrid, 1, 10, cols, rows);\n    addGlider(newGrid, 1, 20, cols, rows);\n    addGlider(newGrid, 1, 30, cols, rows);\n\n    localStorage.setItem(\"gameOfLifeGrid\", JSON.stringify(newGrid));\n    return newGrid;\n  }\n\n  // If stored grid exists, forward-simulate\n  let grid = JSON.parse(storedGrid);\n  const targetGeneration = calculateCurrentGeneration(initialTimestamp);\n\n  for (let i = 0; i < targetGeneration; i++) {\n    grid = nextGen(grid, cols, rows); // Pass cols and rows\n  }\n\n  return grid;\n}\n\n// 7. Drawing the grid (Exported)\nexport function drawGrid(ctx, grid, resolution, canvasWidth, canvasHeight) {\n  ctx.clearRect(0, 0, canvasWidth, canvasHeight); // Use parameters for width/height\n  for (let col = 0; col < grid.length; col++) {\n    for (let row = 0; row < grid[col].length; row++) {\n      const cell = grid[col][row];\n\n      ctx.beginPath();\n      ctx.rect(\n        col * resolution,\n        row * resolution,\n        resolution - 1,\n        resolution - 1\n      );\n      ctx.fillStyle = cell ? \"#4a9eff\" : \"transparent\";\n      ctx.fill();\n    }\n  }\n}\n\n// 8. Counting Neighbors (Exported)\nexport function countNeighbors(grid, x, y, cols, rows) {\n  let sum = 0;\n  for (let i = -1; i < 2; i++) {\n    for (let j = -1; j < 2; j++) {\n      let col = x + i;\n      let row = y + j;\n\n      // wrap edges\n      if (col < 0) col = cols - 1;\n      if (row < 0) row = rows - 1;\n\n      if (col < cols && row < rows) {\n        sum += grid[col][row];\n      }\n    }\n  }\n  sum -= grid[x][y];\n  return sum;\n}\n\n// 9. Next Generation Calculation (Exported)\nexport function nextGen(grid, cols, rows) {\n  const nextGrid = grid.map((arr) => [...arr]);\n\n  for (let col = 0; col < grid.length; col++) {\n    for (let row = 0; row < grid[col].length; row++) {\n      const cell = grid[col][row];\n      const neighbors = countNeighbors(grid, col, row, cols, rows); // Pass cols and rows\n\n      if (cell === 1 && (neighbors < 2 || neighbors > 3)) {\n        nextGrid[col][row] = 0;\n      } else if (cell === 0 && neighbors === 3) {\n        nextGrid[col][row] = 1;\n      }\n    }\n  }\n  return nextGrid;\n}\n\n// 10. Add Glider Pattern (Exported - if you want to control glider addition from React)\nexport function addGlider(grid, x, y, cols, rows) {\n  const glider = [\n    [0, 1, 0],\n    [0, 0, 1],\n    [1, 1, 1],\n  ];\n\n  for (let i = 0; i < 3; i++) {\n    for (let j = 0; j < 3; j++) {\n      let placeX = x + i;\n      let placeY = y + j;\n\n      if (placeX < 0) placeX = cols - 1;\n      if (placeY < 0) placeY = rows - 1;\n\n      if (placeX < cols && placeY < rows) {\n        grid[placeX][placeY] = glider[i][j];\n      }\n    }\n  }\n  return grid;\n}\n\n// ======================\n// Run Game of Life (encapsulated function)\n// ======================\nexport function runGameOfLife(canvasId) {\n  const canvas = document.getElementById(canvasId);\n  if (!canvas) {\n    console.error(`Canvas element with id \"${canvasId}\" not found.`);\n    return; // Exit if canvas is not found\n  }\n  const ctx = canvas.getContext(\"2d\");\n\n  if (ctx) {\n    const resolution = 10; // You can make resolution an argument if you want to configure it from React\n    const cols = canvas.width / resolution;\n    const rows = canvas.height / resolution;\n\n    // Initialize Game of Life grid using imported functions from functionality.js\n    let grid = buildGrid(cols, rows, false, null, SeededRandom); // Random initialization\n    initializeGame(false); // Initialize local storage\n\n    function update() {\n      grid = nextGen(grid, cols, rows); // Calculate next generation using imported function\n      drawGrid(ctx, grid, resolution, canvas.width, canvas.height); // Draw grid using imported function\n      requestAnimationFrame(update); // Animation loop\n    }\n\n    update(); // Start the animation loop\n  } else {\n    console.error(\"Canvas context not supported!\");\n  }\n}\n\n// ============================== LIBRARY OPS ============================== //\n//                                    xx                                     //\n// ============================== LIBRARY OPS ============================== //\n\nwindow.hashString = (str) => {\n  // Keep hashString\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash;\n  }\n  return Math.abs(hash);\n};\n\n/*\n  Purpose: Returns a color for a given tag based on its type or a hash of the\n  tag name.\n  Behavior: Assigns specific colors for predefined tags (e.g., \"YT\", \"Arxiv\")\n  and generates a unique color for other tags using HSL values derived from the\n  tag's hash.\n*/\nexport const getTagColor = function (tag) { // Changed to export const\n  switch (tag) {\n    case \"YT\":\n      return \"#FF0000\";\n    case \"Arxiv\":\n      return \"#A51C30\";\n    case \"Site\":\n      return \"#F5F5DC\";\n    default:\n      const hash = hashString(tag);\n      const hue = hash % 360;\n      const saturation = 40 + (hash % 15);\n      const lightness = 30 + (hash % 10);\n      return `hsl(${hue}, ${saturation}%, ${lightness}%)`;\n  }\n};\n\nexport const getTextColor = function (tag) { // Changed to export const\n  if (tag === \"Site\") {\n    return \"#000000\";\n  }\n  return \"#FFFFFF\";\n};\n\n/*\n  Purpose: Limits how often a function is called during rapid events\n  (e.g., typing in a search box).\n  Behavior: Delays the execution of the provided function until a specified time\n  (wait) has passed since the last call.\n*/\nexport const debounce = function (func, wait) { // Changed to export const\n  let timeout;\n  return function (...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(this, args), wait);\n  };\n};\n\nexport const formatDate = function (dateString) { // Changed to export const\n  if (dateString === \"Not specified\") return dateString;\n  const parsed = new Date(dateString);\n  if (isNaN(parsed)) return dateString;\n  return parsed.toLocaleString(\"en-US\", {\n    month: \"short\",\n    year: \"numeric\",\n  });\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}