{"ast":null,"code":"// functionality.js\n// ============================== REGULAR OPS ============================== //\n//                                    xx                                     //\n// ============================== REGULAR OPS ============================== //\n// Update the toggleCollapse function\nexport function toggleCollapse(button){// Keep export if you want to use this elsewhere, otherwise remove export\nconst container=button.closest(\".collapsible-code-container\");if(!container)return;const codeContainer=container.querySelector(\".code-container\");if(!codeContainer)return;// Toggle the visibility of the code container\ncodeContainer.classList.toggle(\"visible\");// Toggle the expanded state of the button\nbutton.classList.toggle(\"expanded\");// Update the button text based on the state\nconst buttonText=button.querySelector(\"span\");if(codeContainer.classList.contains(\"visible\")){buttonText.textContent=\"hide code\";}else{buttonText.textContent=\"show code\";}}document.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\nconst buttonContainers=document.querySelectorAll(\".button-container\");buttonContainers.forEach(container=>{container.addEventListener(\"mouseenter\",()=>{const copyButton=container.querySelector(\".copy-button\");if(copyButton){copyButton.classList.add(\"visible\");}});container.addEventListener(\"mouseleave\",()=>{const copyButton=container.querySelector(\".copy-button\");if(copyButton){copyButton.classList.remove(\"visible\");}});});});// ======================\n// Theme toggle\n// ======================\nexport function toggleTheme(){// Keep export if you want to use this elsewhere, otherwise remove export\nconst html=document.documentElement;const currentTheme=html.getAttribute(\"data-theme\");const newTheme=currentTheme===\"light\"?\"dark\":\"light\";html.setAttribute(\"data-theme\",newTheme);// Save the selected theme in localStorage\nlocalStorage.setItem(\"theme\",newTheme);}document.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\nconst savedTheme=localStorage.getItem(\"theme\")||\"dark\";// Default to dark\ndocument.documentElement.setAttribute(\"data-theme\",savedTheme);});// ======================\n// Table of Contents toggle\n// ======================\nexport function toggleTOC(){// Keep export if you want to use this elsewhere, otherwise remove export\nconst toc=document.getElementById(\"toc\");if(!toc)return;toc.classList.toggle(\"expanded\");const arrow=document.querySelector(\".toc-header span:first-child\");if(arrow){arrow.textContent=toc.classList.contains(\"expanded\")?\"▼\":\"▶\";}}// ======================\n// Copy code functionality\n// ======================\nlet timeoutId;const PROXIMITY_THRESHOLD=150;// pixels\nexport function handleMouseMove(event){let buttonId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;// Keep export if you want to use this elsewhere, otherwise remove export\nconst targetButton=buttonId?document.getElementById(buttonId):document.querySelector(\".copy-button\");if(!targetButton)return;const rect=targetButton.getBoundingClientRect();const buttonCenterX=rect.left+rect.width/2;const buttonCenterY=rect.top+rect.height/2;const distance=Math.sqrt(Math.pow(event.clientX-buttonCenterX,2)+Math.pow(event.clientY-buttonCenterY,2));clearTimeout(timeoutId);if(distance<=PROXIMITY_THRESHOLD){targetButton.classList.add(\"visible\");timeoutId=setTimeout(()=>{if(!targetButton.matches(\":hover\")){targetButton.classList.remove(\"visible\");}},1000);}else{targetButton.classList.remove(\"visible\");}}/*\n  Purpose: Copies the content of a code block to the clipboard.\n  Behavior: Finds the closest code block to the clicked button, copies its text,\n  and temporarily adds a copied class to the button for visual feedback.\n*/export function copyCode(event){// Keep export if you want to use this elsewhere, otherwise remove export\nevent.preventDefault();const button=event.currentTarget;const codeContainer=button.closest(\".collapsible-code-container\");const codeEl=codeContainer?codeContainer.querySelector(\"code\"):null;if(!codeEl)return;navigator.clipboard.writeText(codeEl.innerText||\"\").then(()=>{button.classList.add(\"copied\");setTimeout(()=>{button.classList.remove(\"copied\");},500);}).catch(err=>{console.error(\"Failed to copy code:\",err);});}document.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\nconst copyButtons=document.querySelectorAll(\".copy-button\");copyButtons.forEach(button=>{button.addEventListener(\"click\",copyCode);});});// ======================\n// Scroll to top\n// ======================\nwindow.onscroll=function(){// Keep this if used outside React, otherwise remove\nconst scrollButton=document.getElementById(\"scrollToTop\");if(!scrollButton)return;if(document.body.scrollTop>window.innerHeight||document.documentElement.scrollTop>window.innerHeight){scrollButton.style.opacity=\"1\";}else{scrollButton.style.opacity=\"0\";}};export function scrollToTop(){// Keep export if you want to use this elsewhere, otherwise remove export\nwindow.scrollTo({top:0,behavior:\"smooth\"});}// ======================\n// Copy citation\n// ======================\nexport function copyCitation(event){// Keep export if you want to use this elsewhere, otherwise remove export\nevent.preventDefault();const button=event.currentTarget;const citationContainer=button.closest(\".citation-container\");const citationEl=citationContainer?citationContainer.querySelector(\"code\"):null;if(!citationEl)return;navigator.clipboard.writeText(citationEl.innerText||\"\").then(()=>{button.classList.add(\"copied\");setTimeout(()=>{button.classList.remove(\"copied\");},500);}).catch(err=>{console.error(\"Failed to copy citation:\",err);});}document.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\nconst copyButtons=document.querySelectorAll(\".copy-button\");copyButtons.forEach(button=>{button.addEventListener(\"click\",copyCode);});const citationCopyButtons=document.querySelectorAll(\"#citation-copy-button\");citationCopyButtons.forEach(button=>{button.addEventListener(\"click\",copyCitation);});});// ======================\n// DOMContentLoaded\n// ======================\ndocument.addEventListener(\"DOMContentLoaded\",()=>{// Keep this if used outside React, otherwise remove\n// ----- Safely bind events on .code-container and .copy-button -----\nconst codeContainer=document.querySelector(\".code-container\");const copyButton=document.querySelector(\".copy-button\");if(codeContainer){codeContainer.addEventListener(\"mouseleave\",()=>{clearTimeout(timeoutId);if(copyButton){copyButton.classList.remove(\"visible\");}});}if(copyButton){copyButton.addEventListener(\"mouseenter\",()=>{clearTimeout(timeoutId);copyButton.classList.add(\"visible\");});copyButton.addEventListener(\"mouseleave\",()=>{if(!timeoutId){timeoutId=setTimeout(()=>{copyButton.classList.remove(\"visible\");},1000);}});}// ----- Sidebar TOC + on-scroll logic -----\nconst sidebarToc=document.getElementById(\"sidebar-toc\");const sidebarLinks=document.querySelector(\".sidebar-toc-links\");const mainToc=document.querySelector(\".toc-container\");let ticking=false;if(sidebarLinks){sidebarLinks.style.scrollBehavior=\"smooth\";}// FUNCTIONALITY.JS (modified handleScroll function)\nconst handleScroll=()=>{if(!mainToc||!sidebarToc){return;}const mainTocRect=mainToc.getBoundingClientRect();const viewportHeight=window.innerHeight;const headerHeight=document.querySelector(\".header\").offsetHeight;// Dynamically get header height\nconst headerOffset=headerHeight+20;// Add a little extra offset if needed\nconst mainTocVisible=mainTocRect.bottom>headerOffset;// Simplified condition - sidebar shows when main TOC bottom is above the offset\nif(mainTocVisible){sidebarToc.classList.remove(\"visible\");}else{sidebarToc.classList.add(\"visible\");updateActiveTocLink();}};const updateActiveTocLink=()=>{if(!sidebarLinks)return;// Look for headings with IDs\nconst headings=Array.from(document.querySelectorAll(\"h1[id], h2[id], h3[id], h4[id]\")).filter(heading=>heading.id);const scrollPosition=window.scrollY;const headerOffset=100;let currentActive=null;for(const heading of headings){if(scrollPosition>=heading.offsetTop-headerOffset){currentActive=heading;}else{break;}}const allLinks=sidebarLinks.querySelectorAll(\"a\");allLinks.forEach(link=>{link.classList.remove(\"active\",\"active-parent\");});if(currentActive){const activeLink=sidebarLinks.querySelector(`a[href=\"#${currentActive.id}\"]`);if(activeLink){activeLink.classList.add(\"active\");// Highlight parents\nlet parent=activeLink.parentElement;while(parent&&parent!==sidebarLinks){if(parent.tagName===\"LI\"){const parentLink=parent.querySelector(\":scope > a\");if(parentLink){parentLink.classList.add(\"active-parent\");}}parent=parent.parentElement;}// Auto-scroll in TOC if out of view\nconst linkRect=activeLink.getBoundingClientRect();const tocRect=sidebarLinks.getBoundingClientRect();if(linkRect.top<tocRect.top||linkRect.bottom>tocRect.bottom){activeLink.scrollIntoView({behavior:\"smooth\",block:\"center\"});}}}};window.addEventListener(\"scroll\",()=>{// Keep this if used outside React, otherwise remove\nconsole.log(\"Scroll event listener is firing!\");// <---- ADD THIS LINE\nif(!ticking){window.requestAnimationFrame(()=>{handleScroll();ticking=false;});ticking=true;}});// Handle smooth scrolling for sidebar links\nif(sidebarLinks){sidebarLinks.querySelectorAll(\"a\").forEach(link=>{link.addEventListener(\"click\",e=>{e.preventDefault();const targetId=link.getAttribute(\"href\").slice(1);const targetElement=document.getElementById(targetId);if(targetElement){const headerOffset=80;const elementPosition=targetElement.offsetTop;const offsetPosition=elementPosition-headerOffset;window.scrollTo({top:offsetPosition,behavior:\"smooth\"});}});});}// Run initial scroll logic\nhandleScroll();});// Keep this if used outside React, otherwise remove\n// ----- Game of Life logic -----\n// 1. Random Number Generator\nexport class SeededRandom{// Exported\nconstructor(){let seed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();this.seed=seed;}next(){this.seed^=this.seed<<13;this.seed^=this.seed>>17;this.seed^=this.seed<<5;return(this.seed>>>0)/0x100000000;}}// 3. Initialize local storage logic (Exported - if needed for external initialization)\nexport function initializeGame(){let useSeed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let providedSeed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const seed=providedSeed||Date.now();console.log(seed);localStorage.setItem(\"gameOfLifeUseSeed\",useSeed);if(useSeed){localStorage.setItem(\"gameOfLifeSeed\",seed.toString());}localStorage.removeItem(\"gameOfLifeGrid\");localStorage.removeItem(\"gameOfLifeInitialTimestamp\");}// 4. Get initial timestamp from local storage (Exported - if needed externally)\nexport function getInitialTimestamp(){const stored=localStorage.getItem(\"gameOfLifeInitialTimestamp\");if(!stored){const timestamp=Date.now();localStorage.setItem(\"gameOfLifeInitialTimestamp\",timestamp.toString());return timestamp;}return parseInt(stored);}// 5. Calculate current generation (Exported - if needed externally)\nexport function calculateCurrentGeneration(initialTimestamp){const timeElapsed=Date.now()-initialTimestamp;// ~60 generations per second\nreturn Math.floor(timeElapsed/(1000/60));}// 6. Building the grid (Exported)\nexport function buildGrid(cols,rows,useSeed,seed,SeededRandomClass){const storedGrid=localStorage.getItem(\"gameOfLifeGrid\");const initialTimestamp=getInitialTimestamp();if(!storedGrid){let rng;if(useSeed){rng=new SeededRandomClass(seed);// Use passed SeededRandomClass\n}else{rng=Math;// Use Math.random if not seeded.\n}// create new grid\nconst newGrid=new Array(cols).fill(null).map(()=>new Array(rows).fill(null).map(()=>useSeed?Math.floor(rng.next()*2):Math.floor(rng.random()*2)// Use rng.random() when Math is used.\n));// Add gliders - keep as is or parameterize glider pattern if needed\naddGlider(newGrid,1,1,cols,rows);addGlider(newGrid,1,10,cols,rows);addGlider(newGrid,1,20,cols,rows);addGlider(newGrid,1,30,cols,rows);localStorage.setItem(\"gameOfLifeGrid\",JSON.stringify(newGrid));return newGrid;}// If stored grid exists, forward-simulate\nlet grid=JSON.parse(storedGrid);const targetGeneration=calculateCurrentGeneration(initialTimestamp);for(let i=0;i<targetGeneration;i++){grid=nextGen(grid,cols,rows);// Pass cols and rows\n}return grid;}// 7. Drawing the grid (Exported)\nexport function drawGrid(ctx,grid,resolution,canvasWidth,canvasHeight){ctx.clearRect(0,0,canvasWidth,canvasHeight);// Use parameters for width/height\nfor(let col=0;col<grid.length;col++){for(let row=0;row<grid[col].length;row++){const cell=grid[col][row];ctx.beginPath();ctx.rect(col*resolution,row*resolution,resolution-1,resolution-1);ctx.fillStyle=cell?\"#4a9eff\":\"transparent\";ctx.fill();}}}// 8. Counting Neighbors (Exported)\nexport function countNeighbors(grid,x,y,cols,rows){let sum=0;for(let i=-1;i<2;i++){for(let j=-1;j<2;j++){let col=x+i;let row=y+j;// wrap edges\nif(col<0)col=cols-1;if(row<0)row=rows-1;if(col<cols&&row<rows){sum+=grid[col][row];}}}sum-=grid[x][y];return sum;}// 9. Next Generation Calculation (Exported)\nexport function nextGen(grid,cols,rows){const nextGrid=grid.map(arr=>[...arr]);for(let col=0;col<grid.length;col++){for(let row=0;row<grid[col].length;row++){const cell=grid[col][row];const neighbors=countNeighbors(grid,col,row,cols,rows);// Pass cols and rows\nif(cell===1&&(neighbors<2||neighbors>3)){nextGrid[col][row]=0;}else if(cell===0&&neighbors===3){nextGrid[col][row]=1;}}}return nextGrid;}// 10. Add Glider Pattern (Exported - if you want to control glider addition from React)\nexport function addGlider(grid,x,y,cols,rows){const glider=[[0,1,0],[0,0,1],[1,1,1]];for(let i=0;i<3;i++){for(let j=0;j<3;j++){let placeX=x+i;let placeY=y+j;if(placeX<0)placeX=cols-1;if(placeY<0)placeY=rows-1;if(placeX<cols&&placeY<rows){grid[placeX][placeY]=glider[i][j];}}}return grid;}// ======================\n// Run Game of Life (encapsulated function)\n// ======================\nexport function runGameOfLife(canvasId){const canvas=document.getElementById(canvasId);if(!canvas){console.error(`Canvas element with id \"${canvasId}\" not found.`);return;// Exit if canvas is not found\n}const ctx=canvas.getContext(\"2d\");if(ctx){const resolution=10;// You can make resolution an argument if you want to configure it from React\nconst cols=canvas.width/resolution;const rows=canvas.height/resolution;// Initialize Game of Life grid using imported functions from functionality.js\nlet grid=buildGrid(cols,rows,false,null,SeededRandom);// Random initialization\ninitializeGame(false);// Initialize local storage\nfunction update(){grid=nextGen(grid,cols,rows);// Calculate next generation using imported function\ndrawGrid(ctx,grid,resolution,canvas.width,canvas.height);// Draw grid using imported function\nrequestAnimationFrame(update);// Animation loop\n}update();// Start the animation loop\n}else{console.error(\"Canvas context not supported!\");}}// ============================== LIBRARY OPS ============================== //\n//                                    xx                                     //\n// ============================== LIBRARY OPS ============================== //\nwindow.hashString=str=>{// Keep hashString\nlet hash=0;for(let i=0;i<str.length;i++){const char=str.charCodeAt(i);hash=(hash<<5)-hash+char;hash=hash&hash;}return Math.abs(hash);};/*\n  Purpose: Returns a color for a given tag based on its type or a hash of the\n  tag name.\n  Behavior: Assigns specific colors for predefined tags (e.g., \"YT\", \"Arxiv\")\n  and generates a unique color for other tags using HSL values derived from the\n  tag's hash.\n*/window.getTagColor=function(tag){// Export getTagColor\nswitch(tag){case\"YT\":return\"#FF0000\";case\"Arxiv\":return\"#A51C30\";case\"Site\":return\"#F5F5DC\";default:const hash=hashString(tag);const hue=hash%360;const saturation=40+hash%15;const lightness=30+hash%10;return`hsl(${hue}, ${saturation}%, ${lightness}%)`;}};window.getTextColor=function(tag){// Export getTextColor\nif(tag===\"Site\"){return\"#000000\";}return\"#FFFFFF\";};/*\n  Purpose: Limits how often a function is called during rapid events\n  (e.g., typing in a search box).\n  Behavior: Delays the execution of the provided function until a specified time\n  (wait) has passed since the last call.\n*/window.wdebounce=function(func,wait){// Export debounce\nlet timeout;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}clearTimeout(timeout);timeout=setTimeout(()=>func.apply(this,args),wait);};};window.formatDate=function(dateString){// Export formatDate - but this comment is now misleading as it's window.formatDate\nif(dateString===\"Not specified\")return dateString;const parsed=new Date(dateString);if(isNaN(parsed))return dateString;return parsed.toLocaleString(\"en-US\",{month:\"short\",year:\"numeric\"});};/*\nPurpose: Dynamically generates the HTML for the reading list based on readingListData.\nBehavior: Iterates over readingListData, creates list items with appropriate metadata,\nand appends them to the reading list container.\n*/window.generateReadingListHTML=function(readingListData){// Accept readingListData as argument\nconsole.log(\"generateReadingListHTML is called with readingListData:\",readingListData);const readingList=document.getElementById(\"reading-list\");if(!readingList){console.error(\"readingList element not found!\");return;}readingList.innerHTML=\"\";// Clear existing content\nif(!readingListData||!Array.isArray(readingListData)){console.warn(\"readingListData is not properly initialized or is not an array.\");return;// Exit if data is not valid\n}readingListData.forEach(item=>{// Use readingListData argument\nconst li=document.createElement(\"li\");li.setAttribute(\"data-release\",item.releaseDate);li.setAttribute(\"data-time\",item.readTime);li.setAttribute(\"data-read\",item.isRead);li.style.display=\"\";// Ensure items are initially visible, important for filters\nconst html=`\n    ${item.isRead?'<span class=\"read-indicator\">✓</span>':\"\"}\n    <div class=\"item-header\">\n      <div class=\"item-title\">\n        <strong>\"${item.title}\" by ${item.author}</strong>\n        <span class=\"meta\">\n          ${item.isRead?\"Read: \":\"\"}\n          ${window.formatDate(item.releaseDate)} |\n          <span class=\"no-break\">Est. Time ${item.readTime} hours</span>\n        </span>\n      </div>\n      <div class=\"tags\">\n        ${item.tags.map(tag=>`<span data-type=\"${tag}\" onclick=\"window.filterByTag('${tag}')\" style=\"background-color: ${window.getTagColor(tag)}; color: ${window.getTextColor(tag)};\">${tag}</span>`// Inline styles for tags\n).join(\"\")}\n      </div>\n    </div>\n    <div class=\"description\">\n      ${item.description}\n    </div>\n    ${item.downloadLink?`<a class=\"download-link\" href=\"${item.downloadLink}\" download>Source</a>`:\"\"}\n  `;li.innerHTML=html;readingList.appendChild(li);});};/*\n  Purpose: Initializes the reading list HTML when the page loads.\n  Behavior: Calls generateReadingListHTML to render the list from readingListData.\n*/window.initializeReadingListHTML=function(readingListData){// Accept readingListData as argument\nconsole.log(\"initializeReadingListHTML is being called.\");if(readingListData&&Array.isArray(readingListData)){// Check if readingListData is valid\nwindow.generateReadingListHTML(readingListData);// Pass readingListData to generateReadingListHTML\n}else{console.warn(\"readingListData is undefined or not an array when initializeReadingListHTML is called.\");}};export function searchItems(readingListData){// Accept readingListData as argument\n// Keep export\nconst searchTerm=document.getElementById(\"search\").value.toLowerCase();const items=document.querySelectorAll(\"#reading-list li\");items.forEach(item=>{const titleElement=item.querySelector(\".item-title strong\");const descriptionElement=item.querySelector(\".description\");const tagsElements=Array.from(item.querySelectorAll(\".tags span\")).map(span=>span.textContent);let itemTextContent=\"\";if(titleElement)itemTextContent+=titleElement.textContent.toLowerCase()+\" \";if(descriptionElement)itemTextContent+=descriptionElement.textContent.toLowerCase()+\" \";itemTextContent+=tagsElements.join(\" \").toLowerCase();item.style.display=itemTextContent.includes(searchTerm)?\"\":\"none\";});window.dispatchEvent(window.documentVisibilityChanged);}export let readFilterState=0;// Export, but managed globally in functionality.js\nwindow.toggleReadFilter=function(button,readingListData){// Accept readingListData as argument\n// Make it a window function for external call\nconst items=document.querySelectorAll(\"#reading-list li\");switch(readFilterState){case 0:button.textContent=\"Filter: Read\";button.classList.add(\"active\");items.forEach(item=>{const isRead=item.getAttribute(\"data-read\")===\"true\";item.style.display=isRead?\"\":\"none\";});readFilterState=1;break;case 1:button.textContent=\"Filter: Unread\";items.forEach(item=>{const isRead=item.getAttribute(\"data-read\")===\"true\";item.style.display=!isRead?\"\":\"none\";});readFilterState=2;break;case 2:button.textContent=\"Filter: All\";button.classList.remove(\"active\");items.forEach(item=>{item.style.display=\"\";});readFilterState=0;break;}window.dispatchEvent(window.documentVisibilityChanged);};window.toggleSort=function(button,criteria,order,readingListData){// Accept readingListData as argument\n// Make it a window function for external call\nconst currentOrder=button.dataset.order||\"unsorted\";let newOrder;if(currentOrder===\"unsorted\"){newOrder=\"asc\";}else if(currentOrder===\"asc\"){newOrder=\"desc\";}else{newOrder=\"unsorted\";}const buttons=document.querySelectorAll(\".sort-bar button\");buttons.forEach(btn=>{btn.classList.remove(\"active\");const arrowSpan=btn.querySelector(\".sort-arrow\");if(arrowSpan)arrowSpan.textContent=\"\";});if(newOrder!==\"unsorted\"){button.classList.add(\"active\");button.dataset.order=newOrder;const arrowSpan=button.querySelector(\".sort-arrow\");if(arrowSpan)arrowSpan.textContent=newOrder===\"asc\"?\"↑\":\"↓\";window.sortBy(criteria,newOrder,readingListData);// Call window.sortBy and pass readingListData\n}else{button.dataset.order=\"unsorted\";window.resetList(false,readingListData);// Call window.resetList and pass readingListData\n}};window.sortBy=function(criteria,order,readingListData){// Accept readingListData as argument\n// Make it a window function for external call\nconst list=document.getElementById(\"reading-list\");const items=Array.from(list.children);items.sort((a,b)=>{let valueA=criteria===\"release\"?new Date(a.dataset.release).getTime()||0:parseFloat(a.dataset.time)||0;let valueB=criteria===\"release\"?new Date(b.dataset.release).getTime()||0:parseFloat(b.dataset.time)||0;return order===\"asc\"?valueA-valueB:valueB-valueA;});items.forEach(item=>list.appendChild(item));window.dispatchEvent(window.documentVisibilityChanged);// Dispatch event after sort\n};window.toggleFilterType=function(button,type,readingListData){// Accept readingListData as argument\n// Make it a window function for external call\nconst isActive=button.classList.contains(\"active\");const buttons=document.querySelectorAll(\".sort-bar button\");buttons.forEach(btn=>{if(btn!==document.getElementById(\"filter-read\")){btn.classList.remove(\"active\");btn.style.removeProperty(\"--active-color\");btn.style.removeProperty(\"--active-text-color\");}});if(!isActive){button.classList.add(\"active\");switch(type){case\"YT\":button.style.setProperty(\"--active-color\",\"#FF0000\");button.style.setProperty(\"--active-text-color\",\"#FFFFFF\");break;case\"Arxiv\":button.style.setProperty(\"--active-color\",\"#A51C30\");button.style.setProperty(\"--active-text-color\",\"#FFFFFF\");break;case\"Site\":button.style.setProperty(\"--active-color\",\"#F5F5DC\");button.style.setProperty(\"--active-text-color\",\"#000000\");break;}window.filterByType(type,readingListData);// Call window.filterByType and pass readingListData\n}else{button.style.removeProperty(\"--active-color\");button.style.removeProperty(\"--active-text-color\");window.resetList(true,readingListData);// Call window.resetList and pass readingListData\nwindow.dispatchEvent(window.documentVisibilityChanged);}};window.filterByType=function(type,readingListData){// Accept readingListData as argument\n// Make it a window function for external call\nconst items=document.querySelectorAll(\"#reading-list li\");items.forEach(item=>{const tags=Array.from(item.querySelectorAll(\".tags span\"));const hasTag=tags.some(tag=>tag.dataset.type===type);item.style.display=hasTag?\"\":\"none\";});window.dispatchEvent(window.documentVisibilityChanged);};window.filterByTag=function(tag){// Make it a window function for external call\nconst activeTags=document.getElementById(\"active-tags\");if(!Array.from(activeTags.children).some(t=>t.textContent===tag)){const tagSpan=document.createElement(\"span\");tagSpan.textContent=tag;tagSpan.dataset.type=tag;tagSpan.style.backgroundColor=window.getTagColor(tag);// Use window.getTagColor\ntagSpan.style.color=window.getTextColor(tag);// Use window.getTextColor\ntagSpan.onclick=()=>{tagSpan.remove();window.refreshFilters();// Call window.refreshFilters\n};activeTags.appendChild(tagSpan);window.refreshFilters();// Call window.refreshFilters\n}};window.refreshFilters=function(){// Make it a window function for external call\nconst activeTags=Array.from(document.getElementById(\"active-tags\").children).map(t=>t.textContent);const items=document.querySelectorAll(\"#reading-list li\");items.forEach(item=>{const tags=Array.from(item.querySelectorAll(\".tags span\")).map(tag=>tag.textContent);const matches=activeTags.every(tag=>tags.includes(tag));item.style.display=matches||activeTags.length===0?\"\":\"none\";});window.dispatchEvent(window.documentVisibilityChanged);};window.resetList=function(){let shouldUpdateGraph=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;let readingListData=arguments.length>1?arguments[1]:undefined;// Accept readingListData as argument\n// Make it a window function for external call\nconst items=document.querySelectorAll(\"#reading-list li\");items.forEach(item=>{item.style.display=\"\";});if(shouldUpdateGraph){window.dispatchEvent(window.documentVisibilityChanged);}};","map":{"version":3,"names":["toggleCollapse","button","container","closest","codeContainer","querySelector","classList","toggle","buttonText","contains","textContent","document","addEventListener","buttonContainers","querySelectorAll","forEach","copyButton","add","remove","toggleTheme","html","documentElement","currentTheme","getAttribute","newTheme","setAttribute","localStorage","setItem","savedTheme","getItem","toggleTOC","toc","getElementById","arrow","timeoutId","PROXIMITY_THRESHOLD","handleMouseMove","event","buttonId","arguments","length","undefined","targetButton","rect","getBoundingClientRect","buttonCenterX","left","width","buttonCenterY","top","height","distance","Math","sqrt","pow","clientX","clientY","clearTimeout","setTimeout","matches","copyCode","preventDefault","currentTarget","codeEl","navigator","clipboard","writeText","innerText","then","catch","err","console","error","copyButtons","window","onscroll","scrollButton","body","scrollTop","innerHeight","style","opacity","scrollToTop","scrollTo","behavior","copyCitation","citationContainer","citationEl","citationCopyButtons","sidebarToc","sidebarLinks","mainToc","ticking","scrollBehavior","handleScroll","mainTocRect","viewportHeight","headerHeight","offsetHeight","headerOffset","mainTocVisible","bottom","updateActiveTocLink","headings","Array","from","filter","heading","id","scrollPosition","scrollY","currentActive","offsetTop","allLinks","link","activeLink","parent","parentElement","tagName","parentLink","linkRect","tocRect","scrollIntoView","block","log","requestAnimationFrame","e","targetId","slice","targetElement","elementPosition","offsetPosition","SeededRandom","constructor","seed","Date","now","next","initializeGame","useSeed","providedSeed","toString","removeItem","getInitialTimestamp","stored","timestamp","parseInt","calculateCurrentGeneration","initialTimestamp","timeElapsed","floor","buildGrid","cols","rows","SeededRandomClass","storedGrid","rng","newGrid","fill","map","random","addGlider","JSON","stringify","grid","parse","targetGeneration","i","nextGen","drawGrid","ctx","resolution","canvasWidth","canvasHeight","clearRect","col","row","cell","beginPath","fillStyle","countNeighbors","x","y","sum","j","nextGrid","arr","neighbors","glider","placeX","placeY","runGameOfLife","canvasId","canvas","getContext","update","hashString","str","hash","char","charCodeAt","abs","getTagColor","tag","hue","saturation","lightness","getTextColor","wdebounce","func","wait","timeout","_len","args","_key","apply","formatDate","dateString","parsed","isNaN","toLocaleString","month","year","generateReadingListHTML","readingListData","readingList","innerHTML","isArray","warn","item","li","createElement","releaseDate","readTime","isRead","display","title","author","tags","join","description","downloadLink","appendChild","initializeReadingListHTML","searchItems","searchTerm","value","toLowerCase","items","titleElement","descriptionElement","tagsElements","span","itemTextContent","includes","dispatchEvent","documentVisibilityChanged","readFilterState","toggleReadFilter","toggleSort","criteria","order","currentOrder","dataset","newOrder","buttons","btn","arrowSpan","sortBy","resetList","list","children","sort","a","b","valueA","release","getTime","parseFloat","time","valueB","toggleFilterType","type","isActive","removeProperty","setProperty","filterByType","hasTag","some","filterByTag","activeTags","t","tagSpan","backgroundColor","color","onclick","refreshFilters","every","shouldUpdateGraph"],"sources":["/Users/benbradley/Desktop/CS_Classwork/bbradz.github.io/src/functionality.js"],"sourcesContent":["// functionality.js\n// ============================== REGULAR OPS ============================== //\n//                                    xx                                     //\n// ============================== REGULAR OPS ============================== //\n\n// Update the toggleCollapse function\nexport function toggleCollapse(button) {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  const container = button.closest(\".collapsible-code-container\");\n  if (!container) return;\n\n  const codeContainer = container.querySelector(\".code-container\");\n  if (!codeContainer) return;\n\n  // Toggle the visibility of the code container\n  codeContainer.classList.toggle(\"visible\");\n\n  // Toggle the expanded state of the button\n  button.classList.toggle(\"expanded\");\n\n  // Update the button text based on the state\n  const buttonText = button.querySelector(\"span\");\n  if (codeContainer.classList.contains(\"visible\")) {\n    buttonText.textContent = \"hide code\";\n  } else {\n    buttonText.textContent = \"show code\";\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  const buttonContainers = document.querySelectorAll(\".button-container\");\n  buttonContainers.forEach((container) => {\n    container.addEventListener(\"mouseenter\", () => {\n      const copyButton = container.querySelector(\".copy-button\");\n      if (copyButton) {\n        copyButton.classList.add(\"visible\");\n      }\n    });\n\n    container.addEventListener(\"mouseleave\", () => {\n      const copyButton = container.querySelector(\".copy-button\");\n      if (copyButton) {\n        copyButton.classList.remove(\"visible\");\n      }\n    });\n  });\n});\n\n// ======================\n// Theme toggle\n// ======================\nexport function toggleTheme() {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  const html = document.documentElement;\n  const currentTheme = html.getAttribute(\"data-theme\");\n  const newTheme = currentTheme === \"light\" ? \"dark\" : \"light\";\n  html.setAttribute(\"data-theme\", newTheme);\n\n  // Save the selected theme in localStorage\n  localStorage.setItem(\"theme\", newTheme);\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  const savedTheme = localStorage.getItem(\"theme\") || \"dark\"; // Default to dark\n  document.documentElement.setAttribute(\"data-theme\", savedTheme);\n});\n\n// ======================\n// Table of Contents toggle\n// ======================\nexport function toggleTOC() {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  const toc = document.getElementById(\"toc\");\n  if (!toc) return;\n  toc.classList.toggle(\"expanded\");\n\n  const arrow = document.querySelector(\".toc-header span:first-child\");\n  if (arrow) {\n    arrow.textContent = toc.classList.contains(\"expanded\") ? \"▼\" : \"▶\";\n  }\n}\n\n// ======================\n// Copy code functionality\n// ======================\nlet timeoutId;\nconst PROXIMITY_THRESHOLD = 150; // pixels\n\nexport function handleMouseMove(event, buttonId = null) {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  const targetButton = buttonId\n    ? document.getElementById(buttonId)\n    : document.querySelector(\".copy-button\");\n  if (!targetButton) return;\n\n  const rect = targetButton.getBoundingClientRect();\n  const buttonCenterX = rect.left + rect.width / 2;\n  const buttonCenterY = rect.top + rect.height / 2;\n\n  const distance = Math.sqrt(\n    Math.pow(event.clientX - buttonCenterX, 2) +\n      Math.pow(event.clientY - buttonCenterY, 2)\n  );\n\n  clearTimeout(timeoutId);\n\n  if (distance <= PROXIMITY_THRESHOLD) {\n    targetButton.classList.add(\"visible\");\n    timeoutId = setTimeout(() => {\n      if (!targetButton.matches(\":hover\")) {\n        targetButton.classList.remove(\"visible\");\n      }\n    }, 1000);\n  } else {\n    targetButton.classList.remove(\"visible\");\n  }\n}\n\n/*\n  Purpose: Copies the content of a code block to the clipboard.\n  Behavior: Finds the closest code block to the clicked button, copies its text,\n  and temporarily adds a copied class to the button for visual feedback.\n*/\nexport function copyCode(event) {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  event.preventDefault();\n  const button = event.currentTarget;\n  const codeContainer = button.closest(\".collapsible-code-container\");\n  const codeEl = codeContainer ? codeContainer.querySelector(\"code\") : null;\n\n  if (!codeEl) return;\n\n  navigator.clipboard\n    .writeText(codeEl.innerText || \"\")\n    .then(() => {\n      button.classList.add(\"copied\");\n      setTimeout(() => {\n        button.classList.remove(\"copied\");\n      }, 500);\n    })\n    .catch((err) => {\n      console.error(\"Failed to copy code:\", err);\n    });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  const copyButtons = document.querySelectorAll(\".copy-button\");\n  copyButtons.forEach((button) => {\n    button.addEventListener(\"click\", copyCode);\n  });\n});\n\n// ======================\n// Scroll to top\n// ======================\nwindow.onscroll = function () {\n  // Keep this if used outside React, otherwise remove\n  const scrollButton = document.getElementById(\"scrollToTop\");\n  if (!scrollButton) return;\n\n  if (\n    document.body.scrollTop > window.innerHeight ||\n    document.documentElement.scrollTop > window.innerHeight\n  ) {\n    scrollButton.style.opacity = \"1\";\n  } else {\n    scrollButton.style.opacity = \"0\";\n  }\n};\n\nexport function scrollToTop() {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  window.scrollTo({\n    top: 0,\n    behavior: \"smooth\",\n  });\n}\n\n// ======================\n// Copy citation\n// ======================\nexport function copyCitation(event) {\n  // Keep export if you want to use this elsewhere, otherwise remove export\n  event.preventDefault();\n  const button = event.currentTarget;\n  const citationContainer = button.closest(\".citation-container\");\n  const citationEl = citationContainer\n    ? citationContainer.querySelector(\"code\")\n    : null;\n\n  if (!citationEl) return;\n\n  navigator.clipboard\n    .writeText(citationEl.innerText || \"\")\n    .then(() => {\n      button.classList.add(\"copied\");\n      setTimeout(() => {\n        button.classList.remove(\"copied\");\n      }, 500);\n    })\n    .catch((err) => {\n      console.error(\"Failed to copy citation:\", err);\n    });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  const copyButtons = document.querySelectorAll(\".copy-button\");\n  copyButtons.forEach((button) => {\n    button.addEventListener(\"click\", copyCode);\n  });\n\n  const citationCopyButtons = document.querySelectorAll(\n    \"#citation-copy-button\"\n  );\n  citationCopyButtons.forEach((button) => {\n    button.addEventListener(\"click\", copyCitation);\n  });\n});\n\n// ======================\n// DOMContentLoaded\n// ======================\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Keep this if used outside React, otherwise remove\n  // ----- Safely bind events on .code-container and .copy-button -----\n  const codeContainer = document.querySelector(\".code-container\");\n  const copyButton = document.querySelector(\".copy-button\");\n\n  if (codeContainer) {\n    codeContainer.addEventListener(\"mouseleave\", () => {\n      clearTimeout(timeoutId);\n      if (copyButton) {\n        copyButton.classList.remove(\"visible\");\n      }\n    });\n  }\n\n  if (copyButton) {\n    copyButton.addEventListener(\"mouseenter\", () => {\n      clearTimeout(timeoutId);\n      copyButton.classList.add(\"visible\");\n    });\n\n    copyButton.addEventListener(\"mouseleave\", () => {\n      if (!timeoutId) {\n        timeoutId = setTimeout(() => {\n          copyButton.classList.remove(\"visible\");\n        }, 1000);\n      }\n    });\n  }\n\n  // ----- Sidebar TOC + on-scroll logic -----\n  const sidebarToc = document.getElementById(\"sidebar-toc\");\n  const sidebarLinks = document.querySelector(\".sidebar-toc-links\");\n  const mainToc = document.querySelector(\".toc-container\");\n  let ticking = false;\n\n  if (sidebarLinks) {\n    sidebarLinks.style.scrollBehavior = \"smooth\";\n  }\n\n  // FUNCTIONALITY.JS (modified handleScroll function)\n  const handleScroll = () => {\n    if (!mainToc || !sidebarToc) {\n      return;\n    }\n\n    const mainTocRect = mainToc.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n    const headerHeight = document.querySelector(\".header\").offsetHeight; // Dynamically get header height\n    const headerOffset = headerHeight + 20; // Add a little extra offset if needed\n    const mainTocVisible = mainTocRect.bottom > headerOffset; // Simplified condition - sidebar shows when main TOC bottom is above the offset\n\n    if (mainTocVisible) {\n      sidebarToc.classList.remove(\"visible\");\n    } else {\n      sidebarToc.classList.add(\"visible\");\n      updateActiveTocLink();\n    }\n  };\n\n  const updateActiveTocLink = () => {\n    if (!sidebarLinks) return;\n\n    // Look for headings with IDs\n    const headings = Array.from(\n      document.querySelectorAll(\"h1[id], h2[id], h3[id], h4[id]\")\n    ).filter((heading) => heading.id);\n\n    const scrollPosition = window.scrollY;\n    const headerOffset = 100;\n\n    let currentActive = null;\n    for (const heading of headings) {\n      if (scrollPosition >= heading.offsetTop - headerOffset) {\n        currentActive = heading;\n      } else {\n        break;\n      }\n    }\n\n    const allLinks = sidebarLinks.querySelectorAll(\"a\");\n    allLinks.forEach((link) => {\n      link.classList.remove(\"active\", \"active-parent\");\n    });\n\n    if (currentActive) {\n      const activeLink = sidebarLinks.querySelector(\n        `a[href=\"#${currentActive.id}\"]`\n      );\n\n      if (activeLink) {\n        activeLink.classList.add(\"active\");\n\n        // Highlight parents\n        let parent = activeLink.parentElement;\n        while (parent && parent !== sidebarLinks) {\n          if (parent.tagName === \"LI\") {\n            const parentLink = parent.querySelector(\":scope > a\");\n            if (parentLink) {\n              parentLink.classList.add(\"active-parent\");\n            }\n          }\n          parent = parent.parentElement;\n        }\n\n        // Auto-scroll in TOC if out of view\n        const linkRect = activeLink.getBoundingClientRect();\n        const tocRect = sidebarLinks.getBoundingClientRect();\n        if (linkRect.top < tocRect.top || linkRect.bottom > tocRect.bottom) {\n          activeLink.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"center\",\n          });\n        }\n      }\n    }\n  };\n\n  window.addEventListener(\"scroll\", () => {\n    // Keep this if used outside React, otherwise remove\n    console.log(\"Scroll event listener is firing!\"); // <---- ADD THIS LINE\n    if (!ticking) {\n      window.requestAnimationFrame(() => {\n        handleScroll();\n        ticking = false;\n      });\n      ticking = true;\n    }\n  });\n\n  // Handle smooth scrolling for sidebar links\n  if (sidebarLinks) {\n    sidebarLinks.querySelectorAll(\"a\").forEach((link) => {\n      link.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        const targetId = link.getAttribute(\"href\").slice(1);\n        const targetElement = document.getElementById(targetId);\n        if (targetElement) {\n          const headerOffset = 80;\n          const elementPosition = targetElement.offsetTop;\n          const offsetPosition = elementPosition - headerOffset;\n\n          window.scrollTo({\n            top: offsetPosition,\n            behavior: \"smooth\",\n          });\n        }\n      });\n    });\n  }\n\n  // Run initial scroll logic\n  handleScroll();\n}); // Keep this if used outside React, otherwise remove\n\n// ----- Game of Life logic -----\n\n// 1. Random Number Generator\nexport class SeededRandom {\n  // Exported\n  constructor(seed = Date.now()) {\n    this.seed = seed;\n  }\n  next() {\n    this.seed ^= this.seed << 13;\n    this.seed ^= this.seed >> 17;\n    this.seed ^= this.seed << 5;\n    return (this.seed >>> 0) / 0x100000000;\n  }\n}\n\n// 3. Initialize local storage logic (Exported - if needed for external initialization)\nexport function initializeGame(useSeed = false, providedSeed = null) {\n  const seed = providedSeed || Date.now();\n  console.log(seed);\n  localStorage.setItem(\"gameOfLifeUseSeed\", useSeed);\n  if (useSeed) {\n    localStorage.setItem(\"gameOfLifeSeed\", seed.toString());\n  }\n  localStorage.removeItem(\"gameOfLifeGrid\");\n  localStorage.removeItem(\"gameOfLifeInitialTimestamp\");\n}\n\n// 4. Get initial timestamp from local storage (Exported - if needed externally)\nexport function getInitialTimestamp() {\n  const stored = localStorage.getItem(\"gameOfLifeInitialTimestamp\");\n  if (!stored) {\n    const timestamp = Date.now();\n    localStorage.setItem(\"gameOfLifeInitialTimestamp\", timestamp.toString());\n    return timestamp;\n  }\n  return parseInt(stored);\n}\n\n// 5. Calculate current generation (Exported - if needed externally)\nexport function calculateCurrentGeneration(initialTimestamp) {\n  const timeElapsed = Date.now() - initialTimestamp;\n  // ~60 generations per second\n  return Math.floor(timeElapsed / (1000 / 60));\n}\n\n// 6. Building the grid (Exported)\nexport function buildGrid(cols, rows, useSeed, seed, SeededRandomClass) {\n  const storedGrid = localStorage.getItem(\"gameOfLifeGrid\");\n  const initialTimestamp = getInitialTimestamp();\n\n  if (!storedGrid) {\n    let rng;\n\n    if (useSeed) {\n      rng = new SeededRandomClass(seed); // Use passed SeededRandomClass\n    } else {\n      rng = Math; // Use Math.random if not seeded.\n    }\n\n    // create new grid\n    const newGrid = new Array(cols).fill(null).map(() =>\n      new Array(rows).fill(null).map(\n        () =>\n          useSeed ? Math.floor(rng.next() * 2) : Math.floor(rng.random() * 2) // Use rng.random() when Math is used.\n      )\n    );\n\n    // Add gliders - keep as is or parameterize glider pattern if needed\n    addGlider(newGrid, 1, 1, cols, rows);\n    addGlider(newGrid, 1, 10, cols, rows);\n    addGlider(newGrid, 1, 20, cols, rows);\n    addGlider(newGrid, 1, 30, cols, rows);\n\n    localStorage.setItem(\"gameOfLifeGrid\", JSON.stringify(newGrid));\n    return newGrid;\n  }\n\n  // If stored grid exists, forward-simulate\n  let grid = JSON.parse(storedGrid);\n  const targetGeneration = calculateCurrentGeneration(initialTimestamp);\n\n  for (let i = 0; i < targetGeneration; i++) {\n    grid = nextGen(grid, cols, rows); // Pass cols and rows\n  }\n\n  return grid;\n}\n\n// 7. Drawing the grid (Exported)\nexport function drawGrid(ctx, grid, resolution, canvasWidth, canvasHeight) {\n  ctx.clearRect(0, 0, canvasWidth, canvasHeight); // Use parameters for width/height\n  for (let col = 0; col < grid.length; col++) {\n    for (let row = 0; row < grid[col].length; row++) {\n      const cell = grid[col][row];\n\n      ctx.beginPath();\n      ctx.rect(\n        col * resolution,\n        row * resolution,\n        resolution - 1,\n        resolution - 1\n      );\n      ctx.fillStyle = cell ? \"#4a9eff\" : \"transparent\";\n      ctx.fill();\n    }\n  }\n}\n\n// 8. Counting Neighbors (Exported)\nexport function countNeighbors(grid, x, y, cols, rows) {\n  let sum = 0;\n  for (let i = -1; i < 2; i++) {\n    for (let j = -1; j < 2; j++) {\n      let col = x + i;\n      let row = y + j;\n\n      // wrap edges\n      if (col < 0) col = cols - 1;\n      if (row < 0) row = rows - 1;\n\n      if (col < cols && row < rows) {\n        sum += grid[col][row];\n      }\n    }\n  }\n  sum -= grid[x][y];\n  return sum;\n}\n\n// 9. Next Generation Calculation (Exported)\nexport function nextGen(grid, cols, rows) {\n  const nextGrid = grid.map((arr) => [...arr]);\n\n  for (let col = 0; col < grid.length; col++) {\n    for (let row = 0; row < grid[col].length; row++) {\n      const cell = grid[col][row];\n      const neighbors = countNeighbors(grid, col, row, cols, rows); // Pass cols and rows\n\n      if (cell === 1 && (neighbors < 2 || neighbors > 3)) {\n        nextGrid[col][row] = 0;\n      } else if (cell === 0 && neighbors === 3) {\n        nextGrid[col][row] = 1;\n      }\n    }\n  }\n  return nextGrid;\n}\n\n// 10. Add Glider Pattern (Exported - if you want to control glider addition from React)\nexport function addGlider(grid, x, y, cols, rows) {\n  const glider = [\n    [0, 1, 0],\n    [0, 0, 1],\n    [1, 1, 1],\n  ];\n\n  for (let i = 0; i < 3; i++) {\n    for (let j = 0; j < 3; j++) {\n      let placeX = x + i;\n      let placeY = y + j;\n\n      if (placeX < 0) placeX = cols - 1;\n      if (placeY < 0) placeY = rows - 1;\n\n      if (placeX < cols && placeY < rows) {\n        grid[placeX][placeY] = glider[i][j];\n      }\n    }\n  }\n  return grid;\n}\n\n// ======================\n// Run Game of Life (encapsulated function)\n// ======================\nexport function runGameOfLife(canvasId) {\n  const canvas = document.getElementById(canvasId);\n  if (!canvas) {\n    console.error(`Canvas element with id \"${canvasId}\" not found.`);\n    return; // Exit if canvas is not found\n  }\n  const ctx = canvas.getContext(\"2d\");\n\n  if (ctx) {\n    const resolution = 10; // You can make resolution an argument if you want to configure it from React\n    const cols = canvas.width / resolution;\n    const rows = canvas.height / resolution;\n\n    // Initialize Game of Life grid using imported functions from functionality.js\n    let grid = buildGrid(cols, rows, false, null, SeededRandom); // Random initialization\n    initializeGame(false); // Initialize local storage\n\n    function update() {\n      grid = nextGen(grid, cols, rows); // Calculate next generation using imported function\n      drawGrid(ctx, grid, resolution, canvas.width, canvas.height); // Draw grid using imported function\n      requestAnimationFrame(update); // Animation loop\n    }\n\n    update(); // Start the animation loop\n  } else {\n    console.error(\"Canvas context not supported!\");\n  }\n}\n\n// ============================== LIBRARY OPS ============================== //\n//                                    xx                                     //\n// ============================== LIBRARY OPS ============================== //\n\nwindow.hashString = (str) => {\n  // Keep hashString\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash;\n  }\n  return Math.abs(hash);\n};\n\n/*\n  Purpose: Returns a color for a given tag based on its type or a hash of the\n  tag name.\n  Behavior: Assigns specific colors for predefined tags (e.g., \"YT\", \"Arxiv\")\n  and generates a unique color for other tags using HSL values derived from the\n  tag's hash.\n*/\nwindow.getTagColor = function (tag) {\n  // Export getTagColor\n  switch (tag) {\n    case \"YT\":\n      return \"#FF0000\";\n    case \"Arxiv\":\n      return \"#A51C30\";\n    case \"Site\":\n      return \"#F5F5DC\";\n    default:\n      const hash = hashString(tag);\n      const hue = hash % 360;\n      const saturation = 40 + (hash % 15);\n      const lightness = 30 + (hash % 10);\n      return `hsl(${hue}, ${saturation}%, ${lightness}%)`;\n  }\n};\n\nwindow.getTextColor = function (tag) {\n  // Export getTextColor\n  if (tag === \"Site\") {\n    return \"#000000\";\n  }\n  return \"#FFFFFF\";\n};\n\n/*\n  Purpose: Limits how often a function is called during rapid events\n  (e.g., typing in a search box).\n  Behavior: Delays the execution of the provided function until a specified time\n  (wait) has passed since the last call.\n*/\nwindow.wdebounce = function (func, wait) {\n  // Export debounce\n  let timeout;\n  return function (...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(this, args), wait);\n  };\n};\n\nwindow.formatDate = function (dateString) {\n  // Export formatDate - but this comment is now misleading as it's window.formatDate\n  if (dateString === \"Not specified\") return dateString;\n  const parsed = new Date(dateString);\n  if (isNaN(parsed)) return dateString;\n  return parsed.toLocaleString(\"en-US\", {\n    month: \"short\",\n    year: \"numeric\",\n  });\n};\n\n/*\nPurpose: Dynamically generates the HTML for the reading list based on readingListData.\nBehavior: Iterates over readingListData, creates list items with appropriate metadata,\nand appends them to the reading list container.\n*/\nwindow.generateReadingListHTML = function (readingListData) {\n  // Accept readingListData as argument\n  console.log(\n    \"generateReadingListHTML is called with readingListData:\",\n    readingListData\n  );\n  const readingList = document.getElementById(\"reading-list\");\n  if (!readingList) {\n    console.error(\"readingList element not found!\");\n    return;\n  }\n  readingList.innerHTML = \"\"; // Clear existing content\n\n  if (!readingListData || !Array.isArray(readingListData)) {\n    console.warn(\n      \"readingListData is not properly initialized or is not an array.\"\n    );\n    return; // Exit if data is not valid\n  }\n\n  readingListData.forEach((item) => {\n    // Use readingListData argument\n    const li = document.createElement(\"li\");\n    li.setAttribute(\"data-release\", item.releaseDate);\n    li.setAttribute(\"data-time\", item.readTime);\n    li.setAttribute(\"data-read\", item.isRead);\n    li.style.display = \"\"; // Ensure items are initially visible, important for filters\n\n    const html = `\n    ${item.isRead ? '<span class=\"read-indicator\">✓</span>' : \"\"}\n    <div class=\"item-header\">\n      <div class=\"item-title\">\n        <strong>\"${item.title}\" by ${item.author}</strong>\n        <span class=\"meta\">\n          ${item.isRead ? \"Read: \" : \"\"}\n          ${window.formatDate(item.releaseDate)} |\n          <span class=\"no-break\">Est. Time ${item.readTime} hours</span>\n        </span>\n      </div>\n      <div class=\"tags\">\n        ${item.tags\n          .map(\n            (tag) =>\n              `<span data-type=\"${tag}\" onclick=\"window.filterByTag('${tag}')\" style=\"background-color: ${window.getTagColor(\n                tag\n              )}; color: ${window.getTextColor(tag)};\">${tag}</span>` // Inline styles for tags\n          )\n          .join(\"\")}\n      </div>\n    </div>\n    <div class=\"description\">\n      ${item.description}\n    </div>\n    ${\n      item.downloadLink\n        ? `<a class=\"download-link\" href=\"${item.downloadLink}\" download>Source</a>`\n        : \"\"\n    }\n  `;\n\n    li.innerHTML = html;\n    readingList.appendChild(li);\n  });\n};\n\n/*\n  Purpose: Initializes the reading list HTML when the page loads.\n  Behavior: Calls generateReadingListHTML to render the list from readingListData.\n*/\nwindow.initializeReadingListHTML = function (readingListData) {\n  // Accept readingListData as argument\n  console.log(\"initializeReadingListHTML is being called.\");\n  if (readingListData && Array.isArray(readingListData)) {\n    // Check if readingListData is valid\n    window.generateReadingListHTML(readingListData); // Pass readingListData to generateReadingListHTML\n  } else {\n    console.warn(\n      \"readingListData is undefined or not an array when initializeReadingListHTML is called.\"\n    );\n  }\n};\n\nexport function searchItems(readingListData) {\n  // Accept readingListData as argument\n  // Keep export\n  const searchTerm = document.getElementById(\"search\").value.toLowerCase();\n  const items = document.querySelectorAll(\"#reading-list li\");\n\n  items.forEach((item) => {\n    const titleElement = item.querySelector(\".item-title strong\");\n    const descriptionElement = item.querySelector(\".description\");\n    const tagsElements = Array.from(item.querySelectorAll(\".tags span\")).map(\n      (span) => span.textContent\n    );\n\n    let itemTextContent = \"\";\n    if (titleElement)\n      itemTextContent += titleElement.textContent.toLowerCase() + \" \";\n    if (descriptionElement)\n      itemTextContent += descriptionElement.textContent.toLowerCase() + \" \";\n    itemTextContent += tagsElements.join(\" \").toLowerCase();\n\n    item.style.display = itemTextContent.includes(searchTerm) ? \"\" : \"none\";\n  });\n\n  window.dispatchEvent(window.documentVisibilityChanged);\n}\n\nexport let readFilterState = 0; // Export, but managed globally in functionality.js\nwindow.toggleReadFilter = function (button, readingListData) {\n  // Accept readingListData as argument\n  // Make it a window function for external call\n  const items = document.querySelectorAll(\"#reading-list li\");\n\n  switch (readFilterState) {\n    case 0:\n      button.textContent = \"Filter: Read\";\n      button.classList.add(\"active\");\n      items.forEach((item) => {\n        const isRead = item.getAttribute(\"data-read\") === \"true\";\n        item.style.display = isRead ? \"\" : \"none\";\n      });\n      readFilterState = 1;\n      break;\n\n    case 1:\n      button.textContent = \"Filter: Unread\";\n      items.forEach((item) => {\n        const isRead = item.getAttribute(\"data-read\") === \"true\";\n        item.style.display = !isRead ? \"\" : \"none\";\n      });\n      readFilterState = 2;\n      break;\n\n    case 2:\n      button.textContent = \"Filter: All\";\n      button.classList.remove(\"active\");\n      items.forEach((item) => {\n        item.style.display = \"\";\n      });\n      readFilterState = 0;\n      break;\n  }\n  window.dispatchEvent(window.documentVisibilityChanged);\n};\n\nwindow.toggleSort = function (button, criteria, order, readingListData) {\n  // Accept readingListData as argument\n  // Make it a window function for external call\n  const currentOrder = button.dataset.order || \"unsorted\";\n  let newOrder;\n\n  if (currentOrder === \"unsorted\") {\n    newOrder = \"asc\";\n  } else if (currentOrder === \"asc\") {\n    newOrder = \"desc\";\n  } else {\n    newOrder = \"unsorted\";\n  }\n\n  const buttons = document.querySelectorAll(\".sort-bar button\");\n  buttons.forEach((btn) => {\n    btn.classList.remove(\"active\");\n    const arrowSpan = btn.querySelector(\".sort-arrow\");\n    if (arrowSpan) arrowSpan.textContent = \"\";\n  });\n\n  if (newOrder !== \"unsorted\") {\n    button.classList.add(\"active\");\n    button.dataset.order = newOrder;\n\n    const arrowSpan = button.querySelector(\".sort-arrow\");\n    if (arrowSpan) arrowSpan.textContent = newOrder === \"asc\" ? \"↑\" : \"↓\";\n\n    window.sortBy(criteria, newOrder, readingListData); // Call window.sortBy and pass readingListData\n  } else {\n    button.dataset.order = \"unsorted\";\n    window.resetList(false, readingListData); // Call window.resetList and pass readingListData\n  }\n};\n\nwindow.sortBy = function (criteria, order, readingListData) {\n  // Accept readingListData as argument\n  // Make it a window function for external call\n  const list = document.getElementById(\"reading-list\");\n  const items = Array.from(list.children);\n\n  items.sort((a, b) => {\n    let valueA =\n      criteria === \"release\"\n        ? new Date(a.dataset.release).getTime() || 0\n        : parseFloat(a.dataset.time) || 0;\n    let valueB =\n      criteria === \"release\"\n        ? new Date(b.dataset.release).getTime() || 0\n        : parseFloat(b.dataset.time) || 0;\n\n    return order === \"asc\" ? valueA - valueB : valueB - valueA;\n  });\n\n  items.forEach((item) => list.appendChild(item));\n  window.dispatchEvent(window.documentVisibilityChanged); // Dispatch event after sort\n};\n\nwindow.toggleFilterType = function (button, type, readingListData) {\n  // Accept readingListData as argument\n  // Make it a window function for external call\n  const isActive = button.classList.contains(\"active\");\n  const buttons = document.querySelectorAll(\".sort-bar button\");\n  buttons.forEach((btn) => {\n    if (btn !== document.getElementById(\"filter-read\")) {\n      btn.classList.remove(\"active\");\n      btn.style.removeProperty(\"--active-color\");\n      btn.style.removeProperty(\"--active-text-color\");\n    }\n  });\n\n  if (!isActive) {\n    button.classList.add(\"active\");\n    switch (type) {\n      case \"YT\":\n        button.style.setProperty(\"--active-color\", \"#FF0000\");\n        button.style.setProperty(\"--active-text-color\", \"#FFFFFF\");\n        break;\n      case \"Arxiv\":\n        button.style.setProperty(\"--active-color\", \"#A51C30\");\n        button.style.setProperty(\"--active-text-color\", \"#FFFFFF\");\n        break;\n      case \"Site\":\n        button.style.setProperty(\"--active-color\", \"#F5F5DC\");\n        button.style.setProperty(\"--active-text-color\", \"#000000\");\n        break;\n    }\n    window.filterByType(type, readingListData); // Call window.filterByType and pass readingListData\n  } else {\n    button.style.removeProperty(\"--active-color\");\n    button.style.removeProperty(\"--active-text-color\");\n    window.resetList(true, readingListData); // Call window.resetList and pass readingListData\n    window.dispatchEvent(window.documentVisibilityChanged);\n  }\n};\n\nwindow.filterByType = function (type, readingListData) {\n  // Accept readingListData as argument\n  // Make it a window function for external call\n  const items = document.querySelectorAll(\"#reading-list li\");\n  items.forEach((item) => {\n    const tags = Array.from(item.querySelectorAll(\".tags span\"));\n    const hasTag = tags.some((tag) => tag.dataset.type === type);\n    item.style.display = hasTag ? \"\" : \"none\";\n  });\n  window.dispatchEvent(window.documentVisibilityChanged);\n};\n\nwindow.filterByTag = function (tag) {\n  // Make it a window function for external call\n  const activeTags = document.getElementById(\"active-tags\");\n  if (!Array.from(activeTags.children).some((t) => t.textContent === tag)) {\n    const tagSpan = document.createElement(\"span\");\n    tagSpan.textContent = tag;\n    tagSpan.dataset.type = tag;\n    tagSpan.style.backgroundColor = window.getTagColor(tag); // Use window.getTagColor\n    tagSpan.style.color = window.getTextColor(tag); // Use window.getTextColor\n\n    tagSpan.onclick = () => {\n      tagSpan.remove();\n      window.refreshFilters(); // Call window.refreshFilters\n    };\n\n    activeTags.appendChild(tagSpan);\n    window.refreshFilters(); // Call window.refreshFilters\n  }\n};\n\nwindow.refreshFilters = function () {\n  // Make it a window function for external call\n  const activeTags = Array.from(\n    document.getElementById(\"active-tags\").children\n  ).map((t) => t.textContent);\n  const items = document.querySelectorAll(\"#reading-list li\");\n\n  items.forEach((item) => {\n    const tags = Array.from(item.querySelectorAll(\".tags span\")).map(\n      (tag) => tag.textContent\n    );\n    const matches = activeTags.every((tag) => tags.includes(tag));\n    item.style.display = matches || activeTags.length === 0 ? \"\" : \"none\";\n  });\n  window.dispatchEvent(window.documentVisibilityChanged);\n};\n\nwindow.resetList = function (shouldUpdateGraph = true, readingListData) {\n  // Accept readingListData as argument\n  // Make it a window function for external call\n  const items = document.querySelectorAll(\"#reading-list li\");\n  items.forEach((item) => {\n    item.style.display = \"\";\n  });\n  if (shouldUpdateGraph) {\n    window.dispatchEvent(window.documentVisibilityChanged);\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}