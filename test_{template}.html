<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles.css" />
    <title>{BLOG_TITLE}</title>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="logo-section">
        <a href="/about" class="logo">{SITE_NAME}</a>
        <button
          class="theme-toggle"
          onclick="toggleTheme()"
          aria-label="Toggle theme"
        >
          <!-- Theme toggle icons -->
          <svg
            class="sun-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle cx="12" cy="12" r="4"></circle>
            <path d="M12 2v2"></path>
            <path d="M12 20v2"></path>
            <path d="M4.93 4.93l1.41 1.41"></path>
            <path d="M17.66 17.66l1.41 1.41"></path>
            <path d="M2 12h2"></path>
            <path d="M20 12h2"></path>
            <path d="M6.34 17.66l-1.41 1.41"></path>
            <path d="M19.07 4.93l-1.41 1.41"></path>
          </svg>
          <svg
            class="moon-icon"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      </div>
      <nav class="nav-links">
        <a href="/posts" class="nav-link">Posts</a>
        <a href="../reading.html" class="nav-link">Library</a>
        <a href="/profile" class="nav-link">Psychological Profile</a>
        <a href="/about" class="nav-link">About</a>
      </nav>
    </header>

    <!-- Article Container -->
    <div class="container">
      <h1 id="title">{ARTICLE_TITLE}</h1>

      <!-- Article Metadata -->
      <div class="header-content">
        <div class="header-left">
          <div class="metadata">
            {AUTHOR}, {DATE} • {READ_TIME} ({WORD_COUNT} words)
          </div>
          <div class="tags">{ARTICLE_TAGS}</div>
        </div>
        <a href="#" class="back-link" onclick="history.back(); return false;"
          >Back</a
        >
      </div>

      <!-- Discussion Links -->
      <div class="discussion-links">{DISCUSSION_LINKS}</div>

      <!-- Table of Contents -->
      <div class="toc-container" onclick="toggleTOC()">
        <div class="toc-header">
          <span>▶</span>
          <span><b>Table of Contents</b></span>
        </div>
        <div class="toc-content" id="toc">{TABLE_OF_CONTENTS}</div>
      </div>

      <!-- Article Content -->
      <div class="article-content">{ARTICLE_CONTENT}</div>

      <!-- References -->
      <h2 id="references">References</h2>
      <div class="references">{REFERENCES}</div>

      <!-- Citation -->
      <p>To cite this blog post, please use:</p>
      <div
        class="code-container citation-code"
        onmousemove="handleMouseMove(event, 'citation-copy-button')"
      >
        <div class="code-content">
          <button
            id="citation-copy-button"
            class="copy-button"
            onclick="copyCitation(event)"
          >
            <svg
              id="citation-copy-icon"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path
                d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
              ></path>
            </svg>
            <svg
              id="citation-check-icon"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              style="display: none"
            >
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </button>
          <pre><code>{CITATION_CONTENT}</code></pre>
        </div>
      </div>
    </div>

    <!-- Scroll-to-top Button -->
    <div
      id="scrollToTop"
      class="fixed bottom-6 right-6 opacity-0 transition-opacity duration-200 cursor-pointer"
      onclick="scrollToTop()"
    >
      <div class="bg-zinc-800 hover:bg-zinc-700 rounded-full p-3 shadow-lg">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="text-zinc-200"
        >
          <path d="M18 15l-6-6-6 6" />
        </svg>
      </div>
    </div>

    <!-- Sidebar TOC -->
    <div id="sidebar-toc" class="sidebar-toc">
      <div class="sidebar-toc-content">
        <div class="sidebar-toc-header">Contents</div>
        <div class="sidebar-toc-links">{SIDEBAR_TOC_CONTENT}</div>
      </div>
    </div>

    <!-- Game of Life Canvas (Optional) -->
    <canvas
      id="gameOfLife"
      class="game-of-life"
      width="200"
      height="400"
    ></canvas>

    <!-- Scripts -->
    <script src="functionality.js"></script>
  </body>
</html>
